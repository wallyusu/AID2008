!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("__webpack_no_use_variable",[],t):"object"==typeof exports?exports.__webpack_no_use_variable=t():e.__webpack_no_use_variable=t()}(this,(function(){return function(e){var t={};function i(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1304)}({1304:function(e,t){Site.addModuleContextMenu=function(e){var t=window.jzModule;if(Fai.top._contextMenu&&Fai.top._designAuth&&"contextMenu"in $){if("[object object]"!=Object.prototype.toString.call(e).toLowerCase())throw new Error("Site.addModuleContextMenu 参数错误");var i;$.contextMenu({selector:"#module"+e.id,className:"fk-moduleContextMenu fk-moduleContextMenu"+e.id,classNames:{icon:"f-icon"},build:function(i,a){var o,f,m,p,g,h,v={},b={},_={},k={},S={},M={},F=[M,b,_,{},k,S],T=e.id,C=Fai.top.$("#module"+T),y=l(C),I=e.moduleOperateList||{},P=e.moduleStateList||{},J=e.moduleDirectionList||{},x=e.moduleOtherList||{},w=(P.length,I.length),E=J.length,L=(x.length,Site.checkModuleInZone(C)),D=Site.checkNestModule(C),A=0,B=Site.hasPopupModuleOpen(),H=t.ManageModule.isLock(T);if(D.inPopupZone&&B&&!B.editing)return!1;if(H)y.isFullmeasure||(!0,!0,m="解锁当前排版",S[f="openEdit"]={},S[f].name=m,S[f].usehtml=!0,S[f].html="<div class='f-tip'></div><div>"+m+"</div>",S[f].icon=f,S[f].callback=function(){jzUtils.run({name:"moduleEditTool.openEdit",callMethod:!0},e.id),Site.logDog(100045,42)});else{for(h=0;h<w;h++)f=(o=I[h]).iconClass||"oper"+h,m=o.text,p=o.statusScript||1,g=o.evalScript,-1!=Fai.fkEval(p)&&(!0,!0,b[f]={},b[f].name=m,b[f].usehtml=!0,b[f].html="<div class='f-tip'></div><div>"+m+"</div>",b[f].icon=f,b[f].callback=Z(g));if(Fai.top._canDesign&&D.isTabPack){var W=t.TabPackManageModule;f="oper"+h,m="复制标签项",g="jzModule.TabPackManageModule.copyItem("+T+", "+$.toJSON(W.getCopyItemOptions(T,a))+")",W.shouldUseCopyItem(T,a)&&(!0,!0,b[f]={},b[f].name=m,b[f].usehtml=!0,b[f].html="<div class='f-tip'></div><div>"+m+"</div>",b[f].icon=f,b[f].callback=Z(g))}else if(Fai.top._canDesign&&D.inTabPack){var N=t.TabPackManageModule;f="oper"+h,m="复制标签项",g="jzModule.TabPackManageModule.copyItem("+D.parentId+", "+$.toJSON(N.getCopyItemOptions(D.parentId,a))+")",N.shouldUseCopyItem(D.parentId,a)&&(!0,!0,b[f]={},b[f].name=m,b[f].usehtml=!0,b[f].html="<div class='f-tip'></div><div>"+m+"</div>",b[f].icon=f,b[f].callback=Z(g))}for(h=0;h<E;h++)f=(o=J[h]).iconClass||"edit"+h,m=o.text,p=o.statusScript||1,g=o.evalScript,-1!=Fai.fkEval(p)&&(!0,!0,_[f]={},_[f].name=m,_[f].usehtml=!0,_[f].html="<div class='f-tip'></div><div>"+m+"</div>",_[f].icon=f,_[f].callback=Z(g));var z=C.attr("_side"),j=C.attr("_flutterSwitch");2==z&&Fai.top._canDesign&&(g="Site.flutterStopSwitch('module"+T+"')","true"==j?(f="flutterStart",m="开始飘动"):(f="flutterStop",m="停止飘动"),!0,!0,_[f]={},_[f].name=m,_[f].usehtml=!0,_[f].html="<div class='f-tip'></div><div>"+m+"</div>",_[f].icon=f,_[f].callback=Z(g),m="设为飘动起始位置",g='Site.flutterSetStartLocation("module'+T+'")',_[f="Location"]={},_[f].name=m,_[f].usehtml=!0,_[f].html="<div class='f-tip'></div><div>"+m+"</div>",_[f].icon=f,_[f].callback=Z(g)),P.length>0&&O(P)>0&&function(e){var t=$("#module"+e);if(t.hasClass("formStyle97")&&!c(e))return!1;if(Site.isCartModule(t)&&!i(t))return!1;if(R(e))return!1;return!0;function i(e){var t,i,a=Site.checkDockToModuleZone(e);return t=1==a.type,i=2==a.type,t||i}}(T)&&(m="设置模块状态",_[f="hasSub J_hasSub J_moreState"]={},_[f].name=m,_[f].usehtml=!0,_[f].html="<div class='f-tip'></div><div>"+m+"</div>",_[f].icon=f,_[f].callback=function(){}),y.isFullmeasure||R(T)||A++,x.length>0&&!R(T)&&(A+=O(x)),A>1&&!R(T)?(m="更多操作",k[f="hasSub J_hasSub J_moreOpt"]={},k[f].name=m,k[f].usehtml=!0,k[f].html="<div class='f-tip'></div><div>"+m+"</div>",k[f].icon=f,k[f].callback=function(){}):(x.length>0&&!R(T)&&(f=(o=x[0]).iconClass||"other"+h,m=o.text,p=o.statusScript||1,g=o.evalScript,-1!=Fai.fkEval(p)&&(!0,!0,k[f]={},k[f].name=m,k[f].usehtml=!0,k[f].html="<div class='f-tip'></div><div>"+m+"</div>",k[f].icon=f,k[f].callback=Z(g))),y.isFullmeasure||y.inPopupZone||y.inSubNav||R(T)||(!0,!0,m="锁定当前排版",S[f="lockEdit"]={},S[f].name=m,S[f].usehtml=!0,S[f].html="<div class='f-tip'></div><div>"+m+"</div>",S[f].icon=f,S[f].callback=function(){n("锁定当前模块排版后，该模块不能移动，会减少误操作，<br/>也可以复制被选中的模块内容。",(function(){jzUtils.run({name:"moduleEditTool.lockEdit",callMethod:!0},e.id)})),Site.logDog(100045,41)}))}for((y.inPack||L||y.inPopupZone||y.inSubNav||y.inBottomFloatLayer||y.inFullmeasurePack||y.inTabPack||y.inAccordionPack)&&function(e,t,i){var a,o,n=!(e.nextAll(".form:visible").length>0),l=!(e.prevAll(".form:visible").length>0),d=e.siblings(".form:visible").length>0,c=n?" f-isTop":"",f=l?" f-isBottom":"";if(!d)return;o="置于顶层",i[a="topIndex"+c]={},i[a].name=o,i[a].usehtml=!0,i[a].html="<div class='f-tip'></div><div>"+o+"</div>",i[a].icon=a,i[a].callback=function(){Fai.top.Site.undoRun(s,{type:"module",detail:"置于顶层",id:parseInt(e.attr("_moduleid")),doArgs:[e],undoArgs:[e,Site.getModuleIndex(e)]}),(t.inPackId>0||t.inAccordionPackId>0)&&Site.setModuleAttrDataChange(t.inPackId||t.inAccordionPackId),Fai.top._moduleMoved++,Site.styleChanged()},o="上移一层",i[a="upIndex"+c]={},i[a].name=o,i[a].usehtml=!0,i[a].html="<div class='f-tip'></div><div>"+o+"</div>",i[a].icon=a,i[a].callback=function(){Fai.top.Site.undoRun(r,{type:"module",detail:"上移一层",id:parseInt(e.attr("_moduleid")),doArgs:[e,1],undoArgs:[e,-1]}),(t.inPackId>0||t.inAccordionPackId>0)&&Site.setModuleAttrDataChange(t.inPackId||t.inAccordionPackId),Fai.top._moduleMoved++,Site.styleChanged()},o="下移一层",i[a="downIndex"+f]={},i[a].name=o,i[a].usehtml=!0,i[a].html="<div class='f-tip'></div><div>"+o+"</div>",i[a].icon=a,i[a].callback=function(){Fai.top.Site.undoRun(r,{type:"module",detail:"下移一层",id:parseInt(e.attr("_moduleid")),doArgs:[e,-1],undoArgs:[e,1]}),(t.inPackId>0||t.inAccordionPackId>0)&&Site.setModuleAttrDataChange(t.inPackId||t.inAccordionPackId),Fai.top._moduleMoved++,Site.styleChanged()},o="置于底层",i[a="bottomIndex"+f]={},i[a].name=o,i[a].usehtml=!0,i[a].html="<div class='f-tip'></div><div>"+o+"</div>",i[a].icon=a,i[a].callback=function(){Fai.top.Site.undoRun(u,{type:"module",detail:"置于底层",id:parseInt(e.attr("_moduleid")),doArgs:[e],undoArgs:[e,Site.getModuleIndex(e)]}),(t.inPackId>0||t.inAccordionPackId>0)&&Site.setModuleAttrDataChange(t.inPackId||t.inAccordionPackId),Fai.top._moduleMoved++,Site.styleChanged()}}(C,y,M),h=0;h<F.length;h++)d(v)||d(F[h])||(v["sep"+h]="--"),v=$.extend(v,F[h]);return d(v)?(Fai.ing("请将模块移离当前区域，再尝试右键操作",!0),!1):{items:v};function O(e){for(var t,i=0,a=e.length,o=0;o<a;o++)(t=e[o].statusScript)&&-1!=Fai.fkEval(t)&&i++;return i}function R(e){var t=$("#module"+e);return!!t.parent().hasClass("J_topAdvContent")||!!t.parent().hasClass("J_bottomFloatLayerContent")}function Z(t){return function(i){switch(Fai.fkEval(t),i){case"mtop":case"mbottom":case"mleft":case"mright":case"lock":case"dockModule":case"absModule":case"mzindex":case"flutterStop":Site.scrollToModuleDiv(Fai.top.$("#module"+e.id)),Site.triggerGobalEvent("showFindModuleDiv",e.id)}}}},events:{show:function(){var t,d,s=Fai.top.$("#module"+e.id),r=l(s),u=-1;r.inTabId>0?u=r.inTabId:r.inMulColId>0?u=r.inMulColId:r.inFullmeasureId>0?u=r.inFullmeasureId:r.inPackId>0?u=r.inPackId:r.inTabPackId>0&&(u=r.inTabPackId),u>0&&(t=Fai.top.$("#module"+u),Site.moduleEditTool.contextMenu(u,!0)),Site.moduleEditTool.contextMenu(e.id,!0),Site.removeAllEditLayer(),Site.addMoveFrame("module"+e.id),"2"==s.attr("_side")&&"true"!=s.attr("_flutterswitch")?(s.attr("_edit",!0),Site.stopFlutterInterval(s)):"1"==s.attr("_side")?s.off("mouseenter.sideModule").off("mouseleave.sideModule"):t&&t.length>0&&("1"==(d=t.attr("_side"))?t.off("mouseenter.sideModule").off("mouseleave.sideModule"):"2"==d&&"true"!=t.attr("_flutterswitch")&&(t.attr("_edit",!0),Site.stopFlutterInterval(t))),i=setTimeout((function(){var t=Fai.top.$("#module"+e.id);Site.addMoveFrame("module"+e.id),1==t.data("bottomLine")&&Fai.top.$("#module"+e.id+"moveFrameBottom").css({opacity:1}),1==t.data("topLine")&&Fai.top.$("#module"+e.id+"moveFrameTop").css({opacity:1}),1==t.data("leftLine")&&Fai.top.$("#module"+e.id+"moveFrameLeft").css({opacity:1}),1==t.data("rightLine")&&Fai.top.$("#module"+e.id+"moveFrameRight").css({opacity:1})}),200);var f=$(".fk-moduleContextMenu"+e.id);f.length>0&&f.find(".J_hasSub").on({"mouseenter.subMenu":function(){!function(e,t){var i,d,s;if(t.find(".J_subMenu").length>0)return;t.hasClass("J_moreState")?s=function(e){var t,i=[];$(e.moduleStateList).each((function(o,n){var l,d=n.iconClass||"",s=n.text.replace("模块","状态"),r=n.statusScript||1,u="f-context-submenu-item J_subMenu-item f-subMenu-"+(n.iconClass||""),f=!1;if("dockModule"==d){var m=Fai.top.$("#module"+e.id),p=m.hasClass("formStyle97"),g=m.hasClass("formStyle82");if(p){if(!c(e.id))return!0}else if(g){var h,v,b=Site.checkDockToModuleZone(m);if(h=1==b.type,v=2==b.type,!h&&!v)return!0}}(function(e){return["dockModule","absModule","lock","flutterm","sidem"][Site.getModuleStatus(e.id)-1]})(e)==d&&(f=!0,u+=" f-context-submenu-active J_subMenu-active"),(-1!=Fai.fkEval(r)||f)&&("absModule"==d&&(t=o),l=a({cls:u,text:s,iconClass:d}),i.push(l))})),t!==undefined&&i.push(i.splice(t,1));return i.join("")}(e):t.hasClass("J_moreOpt")&&(s=function(e){var t=e.id,i=l(Fai.top.$("#module"+t)),o=[],n=[];o=o.concat(e.moduleOtherList),i.isFullmeasure||(o=o.concat({text:"锁定当前排版",iconClass:"lockEdit"}));return $(o).each((function(e,t){var i,o="f-context-submenu-item J_subMenu-item f-subMenu-"+(t.iconClass||"");-1!=Fai.fkEval(t.statusScript)&&(i=a({cls:o,text:t.text,iconClass:t.iconClass})),n.push(i)})),n.join("")}(e));if(!s)return;i=['<div class="fk-contextSubMenuWrap J_subMenuWrap">','<div class="fk-contextSubMenu J_subMenu">',s,"</div>","</div>"].join(""),d=$(i),t.append(d),function(e,t){function i(e,t){var i,a=[];for("undefined"!=typeof e.moduleStateList&&(a=a.concat(e.moduleStateList)),i=(a=a.concat(e.moduleOtherList)).length;i;)if(a[--i].iconClass===t)return void o(a[i].evalScript,t);"lockEdit"===t&&function(e){n("锁定当前模块排版后，该模块不能移动，会减少误操作，<br/>也可以复制被选中的模块内容。",(function(){jzUtils.run({name:"moduleEditTool.lockEdit",callMethod:!0},e.id)})),Site.logDog(100045,41)}(e)}t.find(".J_subMenu").on("mouseup.subMenuItem",".J_subMenu-item",(function(t){var a=$(this),o=a.attr("fk-icon-class");if(a.hasClass("J_subMenu-active"))t.stopPropagation();else{i(e,o);var n=Fai.top.$("#module"+e.id);n.hasClass("formStyle75")&&Site.fixMsgSubmitStyle(e.id),n.hasClass("formStyle32")&&Site.fixSiteFormDateRangeStyle(e.id)}})),t.off("mouseup.contextMenuItem mouseleave.removeActive").on({"mouseup.contextMenuItem":function(e){!function(e,t){var i=e.pageX,a=e.pageY,o=t.offset(),n=o.left,l=o.top,d=t.outerWidth(),s=t.outerHeight(),r=!1,u=!1;i>=n&&i<=n+d&&(r=!0);a>=l&&a<=l+s&&(u=!0);r&&u&&e.stopPropagation()}(e,$(this))},"mouseleave.removeActive":function(){$(this).removeClass("context-menu-hover")}})}(e,t),function(e){var t=e.offset(),i=t.left,a=t.top,o=e.width(),n=e.height(),l=$(window),d=l.width(),s=l.height();i+o>d&&e.addClass("fk-contextSubMenuWrap-right");a+n>s&&e.addClass("fk-contextSubMenuWrap-bottom")}(d)}(e,$(this))},"mouseleave.subMenu":function(){!function(e,t){var i=t.find(".J_subMenuWrap");if(0==i.length)return;(function(e,t){t.find(".J_subMenu").off("mouseup.contextMenuItem"),t.off("mouseup.contextMenuItem mouseleave.removeActive")})(0,t),i.remove()}(0,$(this))}})},hide:function(){clearTimeout(i),i=null,Site.removeMoveFrame("module"+e.id);var t,a=Fai.top.$("#module"+e.id),o=l(a),n=-1,d=$(".fk-moduleContextMenu"+e.id);d.length>0&&d.off("mouseenter.subMenu mouseleave.subMenu"),o.inTabId>0?n=o.inTabId:o.inMulColId>0?n=o.inMulColId:o.inFullmeasureId>0?n=o.inFullmeasureId:o.inPackId>0?n=o.inPackId:o.inTabPackId>0&&(n=o.inTabPackId),2==a.attr("_side")&&"true"!=a.attr("_flutterswitch")?(a.removeAttr("_edit"),Site.startFlutterInterval(a)):1==a.attr("_side")&&Site.reSetSidePosition(a),Site.moduleEditTool.contextMenu(e.id,!1),n>0&&(t=Fai.top.$("#module"+n),Site.moduleEditTool.contextMenu(n,!1),2==t.attr("_side")&&"true"!=t.attr("_flutterswitch")?(t.removeAttr("_edit"),Site.startFlutterInterval(t)):1==t.attr("_side")&&Site.reSetSidePosition(t))}}})}function a(e){var t="<li class='{#cls#}' fk-icon-class='{#iconClass#}'><span class='f-point'></span>{#text#}</li>";return t=t.replace("{#cls#}",e.cls||"").replace("{#text#}",e.text||"").replace("{#iconClass#}",e.iconClass||"")}function o(t,i){switch(Fai.fkEval(t),i){case"mtop":case"mbottom":case"mleft":case"mright":case"lock":case"dockModule":case"absModule":case"mzindex":case"flutterStop":Site.scrollToModuleDiv(Fai.top.$("#module"+e.id)),Site.triggerGobalEvent("showFindModuleDiv",e.id)}}function n(e,t){if($.cookie("nomoreTipFlag"))t();else{(new Vue).$createDialog({onConfirm:function(){t()},confirmButton:{text:"确 定"},cancelButton:{text:"取 消"},content:e,data:{nomoreTip:!1},icon:"warning"},(function(e){var t=this;return e("checkbox-component",{slot:"description",on:{input:function(e){t.nomoreTip=e,$.cookie("nomoreTipFlag",!0)}},props:{value:this.nomoreTip},"class":"f_lock_edit_tip_nomore"},"不再提示")}))}}function l(e){if("[object object]"!=Object.prototype.toString.call(e).toLowerCase())throw new Error("contextMenu getModuleData 参数错误");var t,i,a,o,n,l,d,s,r,u=!1,c=!1,f=!1,m=!1,p=!1,g=!1,h=!1,v=!1,b=!1,_=!1,k=!1,S=!1,M=0,F=!1,T=0,C=!1,y=!1,I=!1,P=!1,J=!1,x=!1;return e.hasClass("formStyle80")||e.hasClass("formStyle109")?u=!0:e.hasClass("formStyle35")?p=!0:e.hasClass("formStyle29")?f=!0:e.hasClass("formStyle87")?b=!0:e.hasClass("formStyle105")?F=!0:e.hasClass("formStyle109")?y=!0:e.hasClass("formStyle110")?P=!0:e.hasClass("formStyle116")&&(J=!0),e.hasClass("elemElemZone")&&(k=!0),(t=parseInt(e.attr("_infullmeasure"))||0)>0&&(c=!0),(i=parseInt(e.attr("_infullmeasurepack"))||0)>0&&(C=!0),(a=parseInt(e.attr("_intab"))||0)>0&&(m=!0),(s=parseInt(e.attr("_intabpack"))||0)>0&&(I=!0),(o=parseInt(e.attr("_inmulmcol"))||0)>0&&(g=!0),(n=parseInt(e.attr("_inpack"))||0)>0&&(_=!0),(T=parseInt(e.attr("_inpopupzone"))||0)>0&&(T=!0),(r=parseInt(e.attr("_inaccordionpack"))||0)>0&&(x=!0),d=e.parent().hasClass("J_bottomFloatLayerContent"),l=e.parent().hasClass("J_subNavPack"),e.parent().hasClass("elemZone")&&(S=!0,M=e.parent().attr("id")),(f||p||P)&&(h=!0),(m||g||I)&&(v=!0),{isFullmeasure:u,inFullmeasure:c,inFullmeasureId:t,isTab:f,inTab:m,inTabId:a,isMulCol:p,inMulCol:g,inMulColId:o,isMultiModule:h,inMultiModule:v,isPack:b,inPack:_,inPackId:n,isElemZone:k,inElemZone:S,inElemZoneId:M,isPopupZone:F,inPopupZone:T,inSubNav:l,inBottomFloatLayer:d,isFullmeasurePack:y,inFullmeasurePack:C,inFullmeasurePackId:i,isTabPack:P,inTabPack:I,inTabPackId:s,isAccordionPack:J,inAccordionPack:x,inAccordionPackId:r}}function d(e){var t;for(t in e)return!1;return!0}function s(e,t){if(void 0===t){var i=e.nextAll(".form"),a=!(i.length>0);f(e,200302,10),a||i.last().after(e)}else Fai.top._undo.insertElem&&Fai.top._undo.insertElem({module:e,index:t})}function r(e,t){switch(t){case 1:!function(e){var t=e.nextAll(".form:visible"),i=!(t.length>0);f(e,200302,12),i||t.first().after(e)}(e);break;case-1:!function(e){var t=e.prevAll(".form:visible"),i=!(t.length>0);f(e,200302,13),i||t.first().before(e)}(e)}}function u(e,t){if(void 0===t){var i=e.prevAll(".form"),a=!(i.length>0);f(e,200302,11),a||i.last().before(e)}else Fai.top._undo.insertElem&&Fai.top._undo.insertElem({module:e,index:t+1})}function c(e){var t,i,a,o,n,l,d,s,r=$("#module"+e),u=$("#fk-webHeaderZone");return!!u.length&&(!!r.hasClass("formInZone")||(t=u.offset().left,i=u.offset().top,a=u.width(),o=u.height(),n=r.offset().left,l=r.offset().top,d=r.width(),s=r.height(),t<n&&i<l&&t+a>n+d&&i+o>l+s||void 0))}function f(e,t,i){Site.checkNestModule(e).inPopupZone&&Site.logDog(t,i)}},Site.moduleEditTool={},function(e,t){var i,a=[],o=window,n=o.jzModule,l=o._Global,d=(o.isCollsionWithRect,i={},{lock:function(e){i[e]=i[e]||{},i[e].lock=!0},open:function(e){i[e]=i[e]||{},delete i[e].lock},getStatus:function(e){var t=!1;return i[e]&&(t=i[e].status),t},getActivePart:function(e){var t=-1;return i[e]&&"part"in i[e]&&(t=i[e].part),t},isActive:function(e,t){i[e]=i[e]||{},i[e].lock||(i[e].status=!0,i[e].part="tool"==t?1:"dragBtn"==t?2:"resizeCancel"==t?3:"child"==t?4:0)},getContextMenu:function(e){return i[e]=i[e]||{},i[e].contextMenu||!1},getMultiModule:function(e){return i[e]=i[e]||{},i[e].multiModule||!1},isLeave:function(e){i[e]=i[e]||{},i[e].lock||(i[e].status=!1,delete i[e].part)},onContextMenu:function(e){i[e]=i[e]||{},i[e].contextMenu=!0},offContextMenu:function(e){i[e]=i[e]||{},i[e].contextMenu=!1},onMultiModule:function(e){i[e]=i[e]||{},i[e].multiModule=!0},offMultiModule:function(e){i[e]=i[e]||{},i[e].multiModule=!1},clearAll:function(e){delete i[e]}});function s(e){var t={},i="prop5";if(-1==["topAdvArea","bottomFloatLayer","bannerV2"].indexOf(e))switch((t=Site.getModuleAttrModuleData(e)).style){case 87:i="prop3"}return t&&t[i]&&1==t[i].o}function r(t){var i,a,o,n,l,r,u,c=t.id,f=t.toolList,m=f.length||0,p=0,k=[],S=Fai.top.$("#module"+c),M=Site.checkNestModule(S);if((!M.inSubNav||S.parents(".fk-subNavPack.edit").length)&&!(f.length<0))if(Fai.top.$("#fk-moduleToolbar"+c).length>0)h(c,t);else{var T=b(S),y=Site.getModuleAttrPattern(c),J="",x=!1,w="",E="";if(" fk-moduleToolbar-v2 ",T.isFullmeasure?J=" fk-moduleToolbar-fullmeasure-v2 ":M.inPopupZone&&(J=" fk-showInPopupZone "),Site.isVueStyleGrayTest(c)?y.d&&1===y.d.y&&1===y.e&&1===y.cb.y&&(x=!0):1===y.border.y&&1===y.bannerType&&1===y.contentBg.y&&(x=!0),k.push("<div id='fk-moduleToolbar"+c+"' class=' J_moduleToolbar  fk-moduleToolbar-v2 "+J+"'>"),T.isFullmeasure){for(p=0;p<m;p++)if(a=!0,"parallax"!=(i=f[p]).iconClass&&(i.statusScript&&-1==Fai.fkEval(i.statusScript)&&(a=!1),a)){switch(u=i.toolDisplay,o=i.evalScript,l=i.text||"",n=i.text||"",0!=p&&(w=" data-title-tip='"+n+"' "),r=i.toolClass||""){case"moduleLayerIconCarousel":1==S.data("stopCarousel")&&(r="moduleLayerIconStop",l="自动轮播",n="自动轮播");break;case"moduleLayerIconAdd":o+=";Site.logDog(201288, 15);";break;case"hoverAnimatedIcon":o+=";Site.logDog(201288, 16);";break;case"moduleLayerIconTop":case"moduleLayerIconBottom":o+=";Site.logDog(201288, 17);";break;case"moduleLayerIconHide":o+=";Site.logDog(201288, 18);"}"toolIcon"==u&&(l="&nbsp;"),"编辑通栏模块"==l&&(o+=";Site.logDog(201288, 14);"),E="",1!=m&&0==p&&(E+="f-toolItemLine"),k.push("<div class='f-toolItem J_toolItem f-toolItem"+r+"  "+E+" '>"),k.push("<a class='f-title J_title' "+w+' onclick="'+o+';Site.removeAllEditLayer();return false;">'+l+"</a>"),k.push("</div>")}}else for(p=0;p<m;p++){var L="Site.removeAllEditLayer();",D="";if(u=(i=f[p]).toolDisplay,"parallax"==i.iconClass){if(!Site.canShowParallaxBtn(S))continue;L=""}if((T.isPack||T.isTabPack)&&"hoverAnimatedIcon"==i.iconClass){if(T.inFullmeasure||M.inTopAdvZone||M.inBottomFloatLayer)continue;l="&nbsp;",!0,D=" J_container_parallax "}a=!0,i.statusScript&&-1==Fai.fkEval(i.statusScript)&&(a=!1),a&&(o=i.evalScript,n=i.text||"",r=i.iconClass||"",M.inPopupZone&&"bannerAndBorder"==r||((T.isPack||T.isTabPack)&&("隐藏模块"==n&&(o+=";Site.logDog(201288, "+(T.isPack?5:12)+");"),"hoverAnimatedIcon"==r&&(o+=";Site.logDog(201288, "+(T.isPack?3:11)+");"),"addStyle"==r&&(o+=";Site.logDog(201288, 8);"),"bannerAndBorder"==r&&(o=";Site.logDog(201288, "+(T.isPack?2:9)+");"+o),"animation"==r&&(o=";Site.logDog(201288, 10);"+o)),i.setTB&&a&&(x?(r="resetTB",n="显示外框",o="Site.oneKeySwitchModuleTB("+c+", false)"):(r="clearTB",n="隐藏外框",o="Site.oneKeySwitchModuleTB("+c+", true)",T.isPack&&(o+=";Site.logDog(201288, 4);"))),E="",1!=m&&0==p&&(E+="f-toolItemLine"),"text"==r&&0!=p&&p<m-1&&(E+="f-toolItemLine"),(T.isTab||T.isTabPack)&&0==p&&(n="编辑横向标签",(T.isTabY||T.isTabPackY)&&(n="编辑纵向标签"),T.isTabPackFold&&(n="编辑折叠标签"),T.isPictureTabPack&&(n="编辑图片标签"),o+=";Site.logDog(201288, 7);"),k.push("<div class='f-toolItem J_toolItem f-toolItem"+r+"  "+E+" '>"),S.parent().hasClass("fk-inBannerListZone")&&Fai.top._bannerV2Data.bl&&Fai.top._bannerV2Data.bl.length>1?k.push("<a class='f-title J_title' onclick=\""+o+";Site.bannerV2.stopBannerInterval();Site.removeAllEditLayer();return false;\"><span class='J_icon f-icon' data-title-tip='"+n+"' ></span><span class='f-icon f-onlyIcon' title='"+n+"'></span><span class='f-text'>"+n+"</span></a>"):k.push("<a class='f-title J_title' onclick=\""+o+";"+L+"return false;\"><span class='J_icon "+D+" f-icon' data-title-tip='"+n+"' ></span><span class='f-icon f-onlyIcon' title='"+n+"'></span><span class='f-text'>"+n+"</span></a>"),k.push("</div>")))}k.push("</div>"),Fai.top.$("body").append(k.join("")),h(c,t),function(t){var i=Fai.top.$("#fk-moduleToolbar"+t.id),a=Fai.top.$("#module"+t.id);i.off("mouseover.toolbar").off("mouseleave.toolbar").on("mouseover.toolbar",(function(){var i,a=Fai.top.$("#module"+t.id),o=b(a),n=-1;o.inTabId>0?n=o.inTabId:o.inMulColId>0?n=o.inMulColId:o.inFullmeasureId>0?n=o.inFullmeasureId:o.inPackId>0?n=o.inPackId:o.inTabPackId>0&&(n=o.inTabPackId),P(t.id,"dragBtnMouseover"),P(t.id,"resizeCancelBtnMouseleave"),P(t.id,"leaveSideModule"),P(t.id,"leaveParentModule"),d.open(t.id),d.isActive(t.id,"tool"),F(t.id),g(t.id),a.parent().hasClass("fk-inBannerListZone")&&Fai.top._bannerV2Data.bl&&Fai.top._bannerV2Data.bl.length>1&&Site.bannerV2.stopBannerInterval(),n>0&&(d.open(n),d.isActive(n,"child"),d.lock(n),P(n,"leaveSideModule"),P(n,"leaveParentModule")),o.inFullmeasureId>0&&e("#module"+o.inFullmeasureId).data("mouseenter",!0),a.hasClass("formStyle80")&&a.data("mouseenter",!0),"2"==a.attr("_side")&&Site.stopFlutterInterval(a),n>0&&"2"==(i=Fai.top.$("#module"+n)).attr("_side")&&Site.stopFlutterInterval(i),P(t.id,"bindToolbarEvent_mouseleave"),P(t.id,"bindToolbarEvent_mouseover");var l=setTimeout((function(){d.getStatus(t.id)&&1==d.getActivePart(t.id)&&(_(t.id),C(t.id),n>0&&_(n))}),300);I(t.id,"bindToolbarEvent_mouseover",l)})).on("mouseleave.toolbar",(function(){var i=Fai.top.$("#module"+t.id),a=b(i),o=-1;if(!Fai.top._moduleShowParallaxTmpData){a.inTabId>0?o=a.inTabId:a.inMulColId>0?o=a.inMulColId:a.inFullmeasureId>0?o=a.inFullmeasureId:a.inPackId>0?o=a.inPackId:a.inTabPackId>0&&(o=a.inTabPackId),o>0&&(d.open(o),d.isLeave(o)),a.inFullmeasureId>0&&e("#module"+a.inFullmeasureId).data("mouseenter",!1),i.hasClass("formStyle80")&&i.data("mouseenter",!1),d.open(t.id),d.isLeave(t.id),P(t.id,"bindToolbarEvent_mouseover"),P(t.id,"bindToolbarEvent_mouseleave");var n=setTimeout((function(){d.getStatus(t.id)||v(t)}),300);I(t.id,"bindToolbarEvent_mouseleave",n)}})),Site.simpleTip&&(b(a).isFullmeasure?Site.simpleTip(i.find(".J_title"),0,t.isDialog,{isOpenParallax:s(t.id)}):Site.simpleTip(i.find(".J_icon"),0,t.isDialog,{isOpenParallax:s(t.id)}))}(t)}}function u(e){var t=Fai.top.$("#module"+e).find(">.J_paddingMarginWrap");t.length>0&&t.remove()}function c(e,t,i){var a=Site.getModuleStatus(e),o=Site.checkNestModule(t),n=i.find(".J_setting_btn_box"),l=Site.checkModuleInZone(t),d=Site.getModuleAttrPattern(e),s=!0,r=!0,u=!0;(2==a||o.inPack||l||o.inElemZone)&&(r=!1),Site.isVueStyleGrayTest(e)?(o.isPack||1==d.d.y&&1==d.e&&1==d.cb.y)&&(s=!1):(o.isPack||1==d.border.y&&1==d.bannerType&&1==d.contentBg.y)&&(s=!1),s&&r||(u=!1),r?(i.removeClass("fk-paddingMarginWrap-float"),n.find(".J_top_margin_btn").show(),n.find(".J_left_margin_btn").show(),n.find(".J_right_margin_btn").show(),n.find(".J_bottom_margin_btn").hide()):(i.addClass("fk-paddingMarginWrap-float"),n.find(".J_top_margin_btn").hide(),n.find(".J_left_margin_btn").hide(),n.find(".J_right_margin_btn").hide(),n.find(".J_bottom_margin_btn").hide()),s?(i.removeClass("fk-paddingMarginWrap-pack"),n.find(".J_top_padding_btn").hide(),n.find(".J_left_padding_btn").hide(),n.find(".J_right_padding_btn").hide(),n.find(".J_bottom_padding_btn").hide()):(i.addClass("fk-paddingMarginWrap-pack"),n.find(".J_top_padding_btn").hide(),n.find(".J_left_padding_btn").hide(),n.find(".J_right_padding_btn").hide(),n.find(".J_bottom_padding_btn").hide()),u?n.find(".J_bottom_height_btn").show():n.find(".J_bottom_height_btn").hide(),o.isCol||o.isPack||o.isTab||o.isTabPack?i.addClass("fk-paddingMarginWrap-multiM"):i.removeClass("fk-paddingMarginWrap-multiM")}function f(t,i){var a,o,n,l,d,s,r,u=Fai.top.$("#module"+t),c=u.find(">.J_paddingMarginWrap"),f=0,m=!1,p=0,g=0;c.length<1||(u.find(".J_left_area").css("top","0"),u.find(".J_right_area").css("top","0"),r=Site.isVueStyleGrayTest(t)?Site.getModuleAttrPattern(t).d:Site.getModuleAttrPattern(t).border,a=u.innerWidth(),o=u.innerHeight(),n=u.offset().top,s=e(window).height(),o>=300&&(n>0?(f=s-n)>=300&&(m=!0):(f=o+n)>=300&&(m=!0),f>s&&(f=s),f>o&&(f=o)),r&&0!=r.y&&(p=-1!=(p=u.css("border-top-width")).indexOf("px")?parseInt(p):0,g=-1!=(g=u.css("border-left-width")).indexOf("px")?parseInt(g):0),0!=i&&1!=i||c.find(".J_top_area").width(a),0!=i&&2!=i||(m?(c.find(".J_left_area").height(f),n<0?c.find(".J_left_area").css("top",-n+"px"):c.find(".J_left_area").css("top","0")):c.find(".J_left_area").height(o)),0!=i&&3!=i||(d=c.hasClass("fk-paddingMarginWrap-float")?u.offset().left+g-13:u.offset().left+g-10,c.find(".J_right_area").offset({left:a+d}),m?(c.find(".J_right_area").height(f),n<0?c.find(".J_right_area").css("top",-n+"px"):c.find(".J_right_area").css("top","0")):c.find(".J_right_area").height(o)),0!=i&&4!=i||(l=n+p-10,c.find(".J_bottom_area").width(a),c.find(".J_bottom_area").offset({top:o+l})))}function m(e,t){var i=Fai.top.$("#module"+e).find(">.J_paddingMarginWrap");i.length<1||(i.show(),0!=t&&1!=t||i.find(".J_top_setting_btn").show(),0!=t&&2!=t||i.find(".J_left_setting_btn").show(),0!=t&&3!=t||i.find(".J_right_setting_btn").show(),0!=t&&4!=t||i.find(".J_bottom_setting_btn").show())}function p(e,t,i){var a,o,n,l,d,s;e.length<1||t.length<1||(a=e.offset().top,o=e.offset().left,1==i?(d=t.outerWidth(),t.offset({top:a,left:o-d-10})):2==i?(n=e.outerWidth(),t.offset({top:a,left:o+n+10})):3==i?(s=t.outerHeight(),t.offset({top:a-s-10,left:o})):4==i?(l=e.outerHeight(),t.offset({top:a+l+10,left:o})):5==i?(s=t.outerHeight(),n=e.outerWidth(),d=t.outerWidth(),t.offset({top:a-s-10,left:o+n-d})):6==i?(l=e.outerHeight(),n=e.outerWidth(),s=t.outerHeight(),d=t.outerWidth(),t.offset({top:a+l+10,left:o+n-d})):7==i?(l=e.outerHeight(),d=t.outerWidth(),s=t.outerHeight(),t.offset({top:a+l-s,left:o-d-10})):8==i?(l=e.outerHeight(),n=e.outerWidth(),s=t.outerHeight(),t.offset({top:a+l-s,left:o+n+10})):9==i&&(l=e.outerHeight(),n=e.outerWidth(),d=t.outerWidth(),t.offset({top:a+l+5,left:o-d/2+n/2})))}function g(e){var t=Fai.top.$("#module"+e);Site.addMoveFrame("module"+e),1==t.data("bottomLine")&&Fai.top.$("#module"+e+"moveFrameBottom").css({opacity:1}),1==t.data("topLine")&&Fai.top.$("#module"+e+"moveFrameTop").css({opacity:1}),1==t.data("leftLine")&&Fai.top.$("#module"+e+"moveFrameLeft").css({opacity:1}),1==t.data("rightLine")&&Fai.top.$("#module"+e+"moveFrameRight").css({opacity:1})}function h(t,i){var a=Fai.top.$("#fk-moduleToolbar"+t);if(!(a.length<0)){var o,n,l,d,s=Fai.top.$("#module"+t),r=b(s),u=Site.checkModuleInZone(s),c=s.outerWidth(),f=s.outerHeight(),m=s.offset(),p=m.left,g=m.top,h=p+c,v=Fai.getScrollWidth(),_=Fai.top.$(Fai.top.window),k=_.scrollTop(),S=_.scrollLeft(),M=a.outerWidth(),F=a.outerHeight(),T=e(document).width(),C=0,y=0,I=!1;a.css("width",M),function(t){var i,c,m,b="fk-multiDragBtn-left",_=Fai.top.$(".floatLeftTop").offset().top,P=0,J=0;t&&(_=0);(r.isMultiModule||r.isPack)&&(r.inMulCol||r.inTab||r.inTabPack)&&(i=document.createElement("div"),I=!0,"undefined"==typeof i.style.borderRadius&&(b+=" fk-multiDragBtn-left-low",i=null));r.isTab&&!r.isTabY||r.isTabPack&&!r.isTabPackY?I?s.find(".J_tabHandle").addClass(b):s.find(".J_tabHandle").removeClass(b):r.isMulCol?I?s.find(".J_multiHandle").addClass(b):s.find(".J_multiHandle").removeClass(b):r.isPack&&(I?s.find(".J_packHandle").addClass(b):s.find(".J_packHandle").removeClass(b));(r.isTabY||r.isTabPackY&&!r.isTabPositionRight)&&(s.find(".J_tabHandle").addClass(b),I=!0);y=g-F-4,C=I?p:h-M,(r.inPack||u)&&(u?o=s.parent():(o=Fai.top.$("#module"+r.inPackId),(m=o.find(".formBanner"+r.inPackId)).is(":visible")&&(P=m.height())),l=o.offset().left,d=o.offset().top+P,n=l+o.width(),d+o.height(),M+C>n&&(C=n-M),g<d&&(y=d-F-4));y<_&&(y=f<100?g+f+4:_);(r.isMultiModule||r.isPack)&&g+k<=_+F&&((c=s.find(">.J_dragHandle")).hasClass("fk-multiDragBtn-left")?C+=c.width():C-=c.width());C<0?C=0:C+M>T-v&&(C=T-M-v);r.isFullmeasure?(Fai.top.$("#J_WebRightBar").is(":visible")?(J=Fai.top.$("#J_WebRightBarList").outerWidth()+1,e(s).find(">.J_lockEditTip").addClass("fk-lockEditTip--rightbar"),e(s).find(">.J_fullmeasureHandle, >.J_oper_btn_wrap").addClass("fk-fullmeasureDragBtn-rightbar")):(J=0,e(s).find(">.J_lockEditTip").removeClass("fk-lockEditTip--rightbar"),e(s).find(">.J_fullmeasureHandle, >.J_oper_btn_wrap").removeClass("fk-fullmeasureDragBtn-rightbar")),a.css({right:v+J-S+"px",top:y+"px"})):a.css({left:C+"px",top:y+"px"})}(i.isDialog)}}function v(e){var t,i,a,o,n=Fai.top.$("#module"+e.id),l=b(n),s=-1;l.inTabId>0?s=l.inTabId:l.inMulColId>0?s=l.inMulColId:l.inFullmeasureId>0?s=l.inFullmeasureId:l.inPackId>0?s=l.inPackId:l.inTabPackId>0&&(s=l.inTabPackId),J(e.id),a=e.id,Fai.top.$("#fk-moduleToolbar"+a).remove(),(o=n).removeClass("fk-maxModuleZindex fk-hoverModule J_checkModuleZIndexDone"),o.parent(".forms").removeClass("fk-maxFormsZIndex"),_(e.id),C(e.id),d.getContextMenu(e.id)||Site.removeMoveFrame("module"+e.id),"2"==n.attr("_side")&&"true"!=n.attr("_flutterSwitch")?(Site.startFlutterInterval(n),d.clearAll(e.id)):"1"==n.attr("_side")?(P(e.id,"leaveSideModule"),t=setTimeout((function(){!d.getStatus(e.id)&&!d.getContextMenu(e.id)&&Fai.top.$(".fk-moduleContextMenu"+e.id).length<1&&Fai.top.$(".moduleMaskContainer").length<1&&(Site.reSetSidePosition(n),d.clearAll(e.id))}),300),I(e.id,"leaveSideModule",t)):d.clearAll(e.id),s>0&&!d.getStatus(s)&&(P(s,"leaveParentModule"),i=setTimeout((function(){var t=b(Fai.top.$("#module"+e.id)),i=-1;t.inTabId>0?i=t.inTabId:t.inMulColId>0?i=t.inMulColId:t.inFullmeasureId>0?i=t.inFullmeasureId:t.inPackId>0?i=t.inPackId:t.inTabPackId>0&&(i=t.inTabPackId),t.inPackId>0&&1==Fai.top.$("#module"+i).attr("_side")||v({id:i})}),300),I(s,"leaveParentModule",i))}function b(e){if("[object object]"!=Object.prototype.toString.call(e).toLowerCase())throw new Error("Site.moduleEditTool getModuleData 参数错误");var t,i,a,o,n,l=!1,d=!1,s=!1,r=!1,u=!1,c=!1,f=!1,m=!1,p=!1,g=!1,h=!1,v=!1,b=!1,_=!1,k=!1,S=!1,M=!1,F=!1;return e.hasClass("formStyle80")||e.hasClass("formStyle109")?l=!0:e.hasClass("formStyle35")?b=!0:e.hasClass("formStyle29")?(p=!0,e.hasClass("fk-formTabY")&&(g=!0)):e.hasClass("formStyle87")?M=!0:e.hasClass("formStyle110")?(s=!0,e.hasClass("fk-formTabY")?(r=!0,h=e.find(".tab_position--right").length>0):e.hasClass("fk-formTabFold")?u=!0:e.hasClass("fk-formTabPicture")&&(c=!0)):e.hasClass("formStyle117")&&(f=!0),(t=parseInt(e.attr("_infullmeasure")||0)||parseInt(e.attr("_infullmeasurepack")||0)||0)>0&&(d=!0),(a=e.attr("_intab")||0)>0&&(v=!0),(i=e.attr("_intabpack")||0)>0&&(m=!0),(o=e.attr("_inmulmcol")||0)>0&&(_=!0),(n=parseInt(e.attr("_inpack"))||0)>0&&(F=!0),(p||b||s||f)&&(k=!0),(v||_||m)&&(S=!0),{isFullmeasure:l,inFullmeasure:d,inFullmeasureId:t,isTab:p,isTabY:g,inTab:v,inTabId:a,isMulCol:b,inMulCol:_,inMulColId:o,isMultiModule:k,inMultiModule:S,isPack:M,inPack:F,inPackId:n,isTabPack:s,isTabPackY:r,isTabPositionRight:h,isTabPackFold:u,isPictureTabPack:c,inTabPack:m,inTabPackId:i,isAccordionPack:f}}function _(e){var t=Fai.top.$("#module"+e);if(!(t.length<1)){var i=b(t);i.isTab||i.isTabPack?t.find(".J_tabHandle").hide():i.isMulCol?t.find(".J_multiHandle").hide():i.isFullmeasure?t.find(".J_fullmeasureHandle").hide():i.isPack?t.find(".J_packHandle").hide():i.isAccordionPack?t.find(".J_accordionPackHandle").hide():t.children(".draggableBtn").hide()}}function k(e){var t=Fai.top.$("#module"+e);if(!(t.length<1)){var i=b(t);i.isTab||i.isTabPack?t.find(".J_tabHandle").addClass("fk-halfHide"):i.isMulCol?t.find(".J_multiHandle").addClass("fk-halfHide"):i.isFullmeasure?t.find(".J_fullmeasureHandle").addClass("fk-halfHide"):i.isPack?t.find(".J_packHandle").addClass("fk-halfHide"):i.isAccordionPack?t.find(".J_accordionPackHandle").addClass("fk-halfHide"):t.children(".draggableBtn").addClass("fk-halfHide")}}function S(e){var t=Fai.top.$("#module"+e);if(!(t.length<1)){var i=b(t);i.isTab||i.isTabPack?t.find(".J_tabHandle").stop().removeClass("fk-halfHide").show():i.isMulCol?t.find(".J_multiHandle").stop().removeClass("fk-halfHide").show():i.isFullmeasure?t.find(".J_fullmeasureHandle").stop().removeClass("fk-halfHide").show():i.isPack?t.find(".J_packHandle").stop().removeClass("fk-halfHide").show():i.isAccordionPack?t.find(".J_accordionPackHandle").stop().removeClass("fk-halfHide").show():t.children(".draggableBtn").stop().removeClass("fk-halfHide").show()}}function M(e,t){"number"==typeof t?Fai.top.$("#fk-moduleToolbar"+e).stop().fadeOut(t):Fai.top.$("#fk-moduleToolbar"+e).stop().hide()}function F(e){Fai.top.$("#fk-moduleToolbar"+e).stop().css("opacity",1).show()}function T(e){var t=Fai.top.$("#module"+e),i=t.children(".J_resizableTip");if(!(t.length<1)){if("none"==i.css("display")){t.children(".J_oper_btn_wrap").find(".J_fullwidth_btn").length>0&&Site.logDog(200728,3);var a=t.children(".J_oper_btn_wrap").find(".J_open_scrollbar_btn");a.length>0&&(a.hasClass("f_open_scrollbar_btn__opened")?Site.logDog(200728,7):Site.logDog(200728,9))}i.show()}}function C(e){var t=Fai.top.$("#module"+e),i=t.children(".J_resizableTip");t.length<1||i.hide()}function y(e){var t=Fai.top.$("#module"+e);t.length<1||t.children(".J_lockEditTip").hide()}function I(e,t,i){a[e]=a[e]||{},a[e][t]=i}function P(e,t){a[e]&&a[e][t]&&(clearTimeout(a[e][t]),delete a[e][t])}function J(e){var t;if(a[e]){for(t in a[e])a[e].hasOwnProperty(t)&&(clearTimeout(a[e][t]),delete a[e][t]);delete a[e]}}function x(e){n.ManageModule.unlockModule(e)}function w(e){var t=e.moduleId;Site.loadPhotoMasonry(t)}t.init=function(i){if("[object object]"!=Object.prototype.toString.call(i).toLowerCase())throw new Error("Site.moduleEditTool.init 参数错误");var a,o=Fai.top.$("#module"+i.id);if(o.length<1)return i.moduleId=i.id,void Site.cacheModuleFunc.init("moduleEditTool.init",i);o.off("mousemove.moduleEdit").off("mouseleave.moduleEdit").off("mouseenter.moduleEdit").on("mousemove.moduleEdit",(function(){if("number"!=typeof a&&!o.data("enterParallax")){var s=Site.hasPopupModuleOpen();if(Site.checkNestModule(e(this)).inPopupZone&&s&&!s.editing)return!1;if("fk-webHeaderZone"!==Site.checkNestModule(e(this)).realParentId||!e(".webHeaderFixed").length){a=setTimeout((function(){a=null}),30),P(i.id,"leaveParentModule"),P(i.id,"leaveSideModule"),P(i.id,"bindToolbarEvent_mouseleave"),P(i.id,"initDrag"),P(i.id,"bindToolbarEvent_mouseover"),P(i.id,"initToolbar_mouseover"),d.isActive(i.id);var g=b(e(this)),h=-1;g.inTabId>0?h=g.inTabId:g.inMulColId>0?h=g.inMulColId:g.inFullmeasureId>0?h=g.inFullmeasureId:g.inPackId>0?h=g.inPackId:g.inTabPackId>0&&(h=g.inTabPackId),h>0&&(P(h,"leaveParentModule"),P(h,"leaveSideModule"),d.open(h),d.isActive(h,"child"),d.lock(h)),function(e){if(!Fai.isNull(Site._enableEditLayer)&&!Site._enableEditLayer)return void M(e.id);P(e.id,"initToolbar_mouseover");var t=setTimeout((function(){var t=Fai.top.$("#module"+e.id),i=b(t);d.getStatus(e.id)&&4!=d.getActivePart(e.id)?i.isMultiModule||i.isPack?d.getMultiModule(e.id)?t.data("simpleText")||t.data("floatImg")||t.data("floatBtn")||(r(e),F(e.id),Fai.top._newUserGuide&&Site.newUserGuideForModule(Fai.top.$("#fk-moduleToolbar"+e.id),t)):(r(e),2!=d.getActivePart(e.id)&&1!=d.getActivePart(e.id)?M(e.id):Fai.top._newUserGuide&&Site.newUserGuideForModule(Fai.top.$("#fk-moduleToolbar"+e.id),t)):i.isPack||t.data("simpleText")||t.data("floatImg")||t.data("floatBtn")||t.data("dynamicNumber")||(r(e),F(e.id),Fai.top._newUserGuide&&Site.newUserGuideForModule(Fai.top.$("#fk-moduleToolbar"+e.id),t)):M(e.id)}),100);I(e.id,"initToolbar_mouseover",t)}(i),function(e){if(!Fai.isNull(Site._enableEditLayer)&&!Site._enableEditLayer)return;var t=Fai.top.$("#module"+e.id),i=d.getActivePart(e.id),a=d.getStatus(e.id),o=1==i||2==i||3==i;a&&4!=i?(Site.removeMoveFrame("module"+e.id),Site.addMoveFrame("module"+e.id)):a&&!o&&Site.removeMoveFrame("module"+e.id);Site.refreshResizableHandles(t)}(i),function(t){if(!Fai.top._canDesign)return;if(!Fai.isNull(Site._enableEditLayer)&&!Site._enableEditLayer)return _(t.id),void(e("#module"+t.id).data("simpleText")&&e("#fkEditor-toolBar-"+t.id).css("display","none"));(function(t){var i=Fai.top.$("#module"+t);if(i.length<1)return;var a=b(i),o=!1;function n(e,t){return t.indexOf(parseInt(e.attr("_modulestyle")))>-1}function l(e,t){var i=Site.getModuleStatus(e);return t.indexOf(i)>-1}function s(t){var i=t.find(".J_moduleTmpMask");0!==i.length&&(i.off("mousemove.removeMask mousedown.removeMask"),e("body").off("mouseup.changeFlag"),t.removeData("isModuleDown"),i.remove())}function r(t){var a=t.find(".J_moduleTmpMask");0===a.length&&((a=e("<div class='J_moduleTmpMask fk-moduleTmpMask'></div>")).off("mousemove.removeMask mousedown.removeMask").on("mousemove.removeMask mousedown.removeMask",(function(){t.data("isModuleDown")||(s(t),t.find(".J_dragHandle").show())})),e("body").off("mouseup.changeFlag").on("mouseup.changeFlag",(function(){var i=e("body");i.length>0&&(t.removeData("isModuleDown"),i.off("mouseup.changeFlag"))})),i.find("iframe").parent().append(a))}function u(e){if(e.hasClass("fk-formTabPicture")){var t=e.width(),i=parseInt(e.css("left"))||0,a=e.parent();if(a.hasClass("J_fullmeasurePackContent")){var o=i+t-(a.width()||0);o>0?e.find(".J_dragHandle").css("right",o):e.find(".J_dragHandle").css("right",0)}}}if(a.isMultiModule||a.isFullmeasure||a.isPack){var c=document.createElement("div"),f="fk-multiDragBtn";"undefined"==typeof c.style.borderRadius&&(f="fk-multiDragBtn-low",c=null),a.isMulCol&&i.find(".J_multiHandle").length<1?(i.append('<div class="J_dragHandle J_multiHandle '+f+'"></div>'),o=!0):(a.isTab||a.isTabPack)&&i.find(".J_tabHandle").length<1?((a.isTabY||a.isTabPackY&&!a.isTabPositionRight)&&(f+=" fk-multiDragBtn-left "),i.append('<div class="J_dragHandle J_tabHandle '+f+'"></div>'),i.find(".formTabButton"),i.find(".formTab").addClass("column"),o=!0):a.isFullmeasure&&i.find(".J_fullmeasureHandle").length<1?(i.append('<div class="J_dragHandle J_fullmeasureHandle fk-fullmeasureDragBtn"></div>'),o=!0):a.isPack&&i.find(".J_packHandle").length<1?(i.append('<div class="J_dragHandle J_packHandle f-packHandle '+f+'"></div>'),o=!0):a.isAccordionPack&&i.find(".J_accordionPackHandle").length<1&&(i.append('<div class="J_dragHandle J_accordionPackHandle f-accordionPackHandle '+f+'"></div>'),o=!0)}else{if(!(i.hasClass("formStyle18")||i.hasClass("formStyle36")||i.hasClass("formStyle17")||i.hasClass("formStyle20")||i.hasClass("formStyle72")||i.hasClass("formStyle111")))return;if(i.find(".formBanner").is(":visible"))return;if(i.children(".draggableBtn").find(".J_handle").length<1){var m=[],p=30,g=i.width()/2-p;m.push("<div class='J_dragHandle draggableBtn' _mouseIn='0' style='left:"+g+"px;'>"),m.push("<a href='javascript:;' onclick='return false;' class='J_handle dragHandle'></a>"),m.push("</div>"),i.append(m.join("")),n(i,[20,72,18])&&(l(t,[2,3,4])?i.find(".J_dragHandle").off("mousedown.createMask").on(" mousedown.createMask",(function(){i.removeData("isModuleDown"),s(i),i.data("isModuleDown",!0),r(i)})):l(t,[1])&&i.off("mousedown.createMask").on(" mousedown.createMask",(function(){i.removeData("isModuleDown"),s(i),i.data("isModuleDown",!0),r(i)}))),i.off("Fai_onModuleSizeChange.dragBtn").off("Fai_onModuleLayoutChange.dragBtn").on("Fai_onModuleSizeChange.dragBtn",(function(){Site.fixDragBtnPos(e(this))})).on("Fai_onModuleLayoutChange.dragBtn",(function(){Site.fixDragBtnPos(e(this))})),o=!0}}o?(Site.addDragBtnHandle(i),function(e){var t=Fai.top.$("#module"+e);if(t.length<1)return;var i,a=b(t);i=a.isTab||a.isTabPack?t.find(".J_tabHandle"):a.isMulCol?t.find(".J_multiHandle"):a.isFullmeasure?t.find(".J_fullmeasureHandle"):a.isPack?t.find(".J_packHandle"):a.isAccordionPack?t.find(".J_accordionPackHandle"):t.children(".draggableBtn");i.off("mouseover.moduleEdit").off("mouseleave.moduleEdit").on("mouseover.moduleEdit",(function(){d.isActive(e,"dragBtn"),d.lock(e),P(e,"dragBtnMouseover");var t=setTimeout((function(){var t=b(Fai.top.$("#module"+e));t.isMultiModule||t.isFullmeasure||t.isPack?(F(e),T(e)):2==d.getActivePart(e)&&(M(e,400),C(e)),P(e,"dragBtnMouseover")}),300);I(e,"dragBtnMouseover",t)})).on("mouseleave.moduleEdit",(function(){d.open(e),d.isLeave(e),P(e,"dragBtnMouseover");var t=setTimeout((function(){d.getStatus(e)&&4!=d.getActivePart(e)&&(F(e),T(e))}),100);I(e,"dragBtnMouseleave",t)}))}(t)):(Site.fixDragBtnPos(i),u(i));S(t)})(t.id),4==d.getActivePart(t.id)&&k(t.id)}(i),function(e){if(!Fai.top._canDesign)return;if(!Fai.isNull(Site._enableEditLayer)&&!Site._enableEditLayer)return void C(e.id);d.getStatus(e.id)&&4!=d.getActivePart(e.id)?(Fai.top.$("#module"+e.id).hasClass("formStyle85")||T(e.id),Fai.top.$("#module"+e.id).hasClass("formStyle98")||T(e.id)):C(e.id)}(i),function(e){if(!Fai.top._canDesign)return;if(l.isOpenAllLock){Fai.top.$("#module"+e.id).children(".J_oper_btn_wrap").children(".J_lock_icon").show()}if(function(e){var t=Fai.top.$("#module"+e),i=n.ManageModule.isLock(e);if(t.length<1)return;return!i&&(t.children(".J_lockEditTip").remove(),!0)}(e.id))return;if(!Fai.isNull(Site._enableEditLayer)&&!Site._enableEditLayer)return void y(e.id);d.getStatus(e.id)&&4!=d.getActivePart(e.id)?function(e){var t=Fai.top.$("#module"+e);if(t.length<1)return;t.children(".J_lockEditTip").show()}(e.id):y(e.id)}(i),function(e){var t=Fai.top.$("#module"+e.id);if(!Fai.isNull(Site._enableEditLayer)&&!Site._enableEditLayer)return Site.removeMoveFrame("module"+e.id),void t.children(".ui-resizable-handle").hide();var i=d.getActivePart(e.id),a=d.getStatus(e.id),o=1==i||2==i||3==i;a&&4!=i?t.children(".ui-resizable-handle").removeClass("fk-childModuleHover").show():a&&4==i?t.children(".ui-resizable-handle").addClass("fk-childModuleHover").show():a&&!o&&t.children(".ui-resizable-handle").hide()}(i),Fai.top.moveBtnExecuting||Fai.top.mouseoverLine||i.isDialog||function(i){var a,o=Fai.top.$("#module"+i),n="";if(!Fai.top._designAuth)return;if(-1==function(e,t){var i=1,a=Site.getModuleStatus(t),o=Site.checkNestModule(e),n=Site.checkModuleInZone(e),l=Site.getModuleAttrPattern(t);(e.hasClass("formStyle81")||e.hasClass("formStyle86")||e.hasClass("formStyle79")||e.hasClass("formStyle82")||e.hasClass("formStyle97")||e.hasClass("formStyle45")||e.hasClass("formStyle39")||e.hasClass("formStyle62")||e.hasClass("formStyle66")||e.hasClass("formStyle65")||e.hasClass("formStyle105"))&&(i=-1);(o.inTab||o.inTabPack||o.inCol||o.isFullmeasure||o.isFullmeasurePack||o.isTab||o.isTabPack)&&(i=-1);3!=a&&4!=a&&5!=a||(i=-1);o.isPack&&2==a&&(i=-1);Site.isVueStyleGrayTest(t)?(2==a||o.inPack||n)&&1==l.d.y&&1==l.e&&1==l.cb.y&&(u(t),i=-1):(2==a||o.inPack||n)&&1==l.border.y&&1==l.bannerType&&1==l.contentBg.y&&(u(t),i=-1);return i}(o,i))return;(a=o.find(">.J_paddingMarginWrap")).length<1?(n='<div class="fk-paddingMarginWrap J_paddingMarginWrap"><div class="top-area J_setting_area J_top_area" direction="top"><div class="top-line J_top_line"></div><div class="fk-top-setting-btn J_top_setting_btn J_setting_btn_box" style="display:none"><a class="fk-top-padding-btn J_top_padding_btn fk-setting-btn" ></a><a class="fk-top-margin-btn J_top_margin_btn fk-setting-btn" ></a></div></div><div class="left-area J_setting_area J_left_area" direction="left"><div class="left-line J_left_line"></div><div class="fk-left-setting-btn J_left_setting_btn J_setting_btn_box" style="display:none"><a class="fk-left-padding-btn J_left_padding_btn fk-setting-btn" ></a><a class="fk-left-margin-btn J_left_margin_btn fk-setting-btn" ></a></div></div><div class="right-area J_setting_area J_right_area" direction="right"><div class="right-line J_right_line"></div><div class="fk-right-setting-btn J_right_setting_btn J_setting_btn_box" style="display:none"><a class="fk-right-padding-btn J_right_padding_btn fk-setting-btn" ></a><a class="fk-right-margin-btn J_right_margin_btn fk-setting-btn" ></a></div></div><div class="bottom-area J_setting_area J_bottom_area" direction="bottom"><div class="bottom-line J_bottom_line"></div><div class="fk-bottom-setting-btn J_bottom_setting_btn J_setting_btn_box" style="display:none"><a class="fk-bottom-padding-btn J_bottom_padding_btn fk-setting-btn" ></a><a class="fk-module-height-btn J_bottom_height_btn" ></a><a class="fk-bottom-margin-btn J_bottom_margin_btn fk-setting-btn" ></a></div></div></div>',o.append(n),a=o.find(">.J_paddingMarginWrap"),c(i,o,a),f(i,0),function(i){var a,o,n,l,d,s,r,u,c,g,h,v,b,_,k=e("#module"+i),S=Site.getModuleAttrPattern(i),M=k.find(">.J_paddingMarginWrap"),F=M.find(".J_setting_area"),T=Fai.top.$("#dockTip");if(T.length<1&&(T=e("<div id='dockTip' class='resizableToShowWidth dockTip'></div>"),Fai.top.$("body").append(T),e(".formWrap".concat(i)))){var C=e("<div id='formDockTip' class='resizableToShowWidth dockTip'>表单项超过模块区域，将可能出现内容被隐藏情况</div>");Fai.top.$("body").append(C)}k.children(".ui-resizable-s").off("mouseenter.btn").on("mouseenter.btn",(function(){Fai.top.moveBtnExecuting||(m(i,4),Fai.top.mouseoverLine=!0)})),k.children(".ui-resizable-n").off("mouseenter.btn").on("mouseenter.btn",(function(){Fai.top.moveBtnExecuting||(m(i,1),Fai.top.mouseoverLine=!0)})),k.children(".ui-resizable-w").off("mouseenter.btn").on("mouseenter.btn",(function(){Fai.top.moveBtnExecuting||(m(i,2),Fai.top.mouseoverLine=!0)})),k.children(".ui-resizable-e").off("mouseenter.btn").on("mouseenter.btn",(function(){Fai.top.moveBtnExecuting||(m(i,3),Fai.top.mouseoverLine=!0)})),F.off("mouseover.btn").on("mouseover.btn",(function(t){if(Site._enableEditLayer){var a=e(this).attr("direction"),o=e(t.target);Fai.top.moveBtnExecuting||(Fai.top.mouseoverLine=!0,"top"==a?m(i,1):"left"==a?m(i,2):"right"==a?m(i,3):"bottom"==a&&m(i,4),o.hasClass("J_bottom_padding_btn")?(T.hide(),clearTimeout(Fai.top.isShowTipTime),Fai.top.isShowTipTime=setTimeout((function(){T.show().text("拖动可调整下内边距"),p(o.parent(),T,7)}),200)):o.hasClass("J_bottom_margin_btn")?(T.hide(),clearTimeout(Fai.top.isShowTipTime),Fai.top.isShowTipTime=setTimeout((function(){T.show().text("拖动可调整下外边距"),p(o.parent(),T,8)}),200)):o.hasClass("J_top_padding_btn")?(T.hide(),clearTimeout(Fai.top.isShowTipTime),Fai.top.isShowTipTime=setTimeout((function(){T.show().text("拖动可调整上内边距"),p(o.parent(),T,1)}),200)):o.hasClass("J_top_margin_btn")?(T.hide(),clearTimeout(Fai.top.isShowTipTime),Fai.top.isShowTipTime=setTimeout((function(){T.show().text("拖动可调整上外边距"),p(o.parent(),T,2)}),200)):o.hasClass("J_left_padding_btn")?(T.hide(),clearTimeout(Fai.top.isShowTipTime),Fai.top.isShowTipTime=setTimeout((function(){T.show().text("拖动可调整左内边距"),p(o.parent(),T,3)}),200)):o.hasClass("J_left_margin_btn")?(T.hide(),clearTimeout(Fai.top.isShowTipTime),Fai.top.isShowTipTime=setTimeout((function(){T.show().text("拖动可调整左外边距"),p(o.parent(),T,4)}),200)):o.hasClass("J_right_padding_btn")?(T.hide(),clearTimeout(Fai.top.isShowTipTime),Fai.top.isShowTipTime=setTimeout((function(){T.show().text("拖动可调整右内边距"),p(o.parent(),T,5)}),200)):o.hasClass("J_right_margin_btn")?(T.hide(),clearTimeout(Fai.top.isShowTipTime),Fai.top.isShowTipTime=setTimeout((function(){T.show().text("拖动可调整右外边距"),p(o.parent(),T,6)}),200)):o.hasClass("J_bottom_height_btn")&&(T.hide(),clearTimeout(Fai.top.isShowTipTime),Fai.top.isShowTipTime=setTimeout((function(){p(k,T,9)}),200)))}})).off("mouseleave.btn").on("mouseleave.btn",(function(){Site._enableEditLayer&&(Fai.top.moveBtnExecuting||(T.hide(),clearTimeout(Fai.top.isShowTipTime),Fai.top.mouseoverLine=!1))})),k.off("mouseleave.PMbtn").on("mouseleave.PMbtn",(function(){Fai.top.moveBtnExecuting||(Fai.top.mouseoverLine=!1,t.hidePaddingMarginWrap(i))})),Fai.top.$(Fai.top.window).off("scroll.forDockTip").on("scroll.forDockTip",(function(){Fai.top.moveBtnExecuting||T.hide()}));var y=null;M.find(".J_top_padding_btn").draggable("destroy").draggable({handle:".J_top_padding_btn",axis:"y",revert:!0,helper:function(){return e('<div class="fk-paddingLine J_paddingMarginLine"></div>')},start:function(t,o){Fai.top.moveBtnExecuting=!0,e(this).parent().show(),T.show(),L(1),Site.disableEditLayer(),e(this).addClass("fk-top-padding-selected"),a=o.offset.top,n=parseInt(k.find(".formMiddleContent"+i).css("margin-top").replace("px","")),y=n},drag:function(t,o){x(2,o.offset.top-a+n),p(e(this).parent(),T,1),f(i,0)},stop:function(){e(this).removeClass("fk-top-padding-selected"),T.hide(),e(this).parent().hide(),Fai.top.moveBtnExecuting=!1,Fai.top.mouseoverLine=!1,L(0),Site.enableEditLayer(),E(),D(i,1);var t=parseInt(k.find(".formMiddleContent"+i).css("margin-top").replace("px",""));null===y||isNaN(t)||(Site.undoRun(x,{type:"module.paddingDrag",detail:"modulePaddingTopDrag",undoArgs:[2,y],redoArgs:[2,t]}),y=t=null)}}),M.find(".J_top_margin_btn").draggable("destroy").draggable({handle:".J_top_margin_btn",axis:"y",revert:!0,helper:function(){return e('<div class="fk-MarginLine J_paddingMarginLine"></div>')},start:function(t,i){Fai.top.moveBtnExecuting=!0,e(this).parent().show(),T.show(),L(1),Site.disableEditLayer(),e(this).addClass("fk-top-margin-selected"),a=i.offset.top,o=parseInt(k.css("margin-top").replace("px","")),y=o},drag:function(t,i){J(2,i.offset.top-a+o),p(e(this).parent(),T,2)},stop:function(){e(this).removeClass("fk-top-margin-selected"),T.hide(),e(this).parent().hide(),Fai.top.moveBtnExecuting=!1,Fai.top.mouseoverLine=!1,L(0),Site.enableEditLayer(),E(),Site.logDog(100045,47);var t=parseInt(k.css("margin-top").replace("px",""));null===y||isNaN(t)||(Site.undoRun(J,{type:"module.marginDrag",detail:"moduleMarginTopDrag",undoArgs:[2,y],redoArgs:[2,t]}),y=t=null)}}),M.find(".J_left_padding_btn").draggable("destroy").draggable({handle:".J_left_padding_btn",axis:"x",revert:!0,helper:function(){return e('<div class="fk-MarginLine J_paddingMarginLine"></div>')},start:function(t,a){Fai.top.moveBtnExecuting=!0,e(this).parent().show(),T.show(),L(1),Site.disableEditLayer(),e(this).addClass("fk-left-padding-selected"),l=a.offset.left,s=parseInt(k.find(".formMiddleContent"+i).css("margin-left").replace("px","")),y=s},drag:function(t,a){x(0,a.offset.left-l+s),p(e(this).parent(),T,3),f(i,4)},stop:function(){e(this).removeClass("fk-left-padding-selected"),T.hide(),e(this).parent().hide(),Fai.top.moveBtnExecuting=!1,Fai.top.mouseoverLine=!1,L(0),Site.enableEditLayer(),E(),D(i,2);var t=parseInt(k.find(".formMiddleContent"+i).css("margin-left").replace("px",""));null===y||isNaN(t)||(Site.undoRun(x,{type:"module.paddingDrag",detail:"modulePaddingLeftDrag",undoArgs:[0,y],redoArgs:[0,t]}),y=t=null)}}),M.find(".J_left_margin_btn").draggable("destroy").draggable({handle:".J_left_margin_btn",axis:"x",revert:!0,helper:function(){return e('<div class="fk-MarginLine J_paddingMarginLine"></div>')},start:function(t,i){Fai.top.moveBtnExecuting=!0,e(this).parent().show(),T.show(),L(1),Site.disableEditLayer(),e(this).addClass("fk-left-margin-selected"),l=i.offset.left,d=parseInt(k.css("margin-left").replace("px","")),y=d},drag:function(t,a){J(0,a.offset.left-l+d),p(e(this).parent(),T,4),f(i,3),w({moduleId:i})},stop:function(){e(this).removeClass("fk-left-margin-selected"),T.hide(),e(this).parent().hide(),Fai.top.moveBtnExecuting=!1,Fai.top.mouseoverLine=!1,L(0),Site.enableEditLayer(),E(),Site.logDog(100045,49);var t=parseInt(k.css("margin-left").replace("px",""));null===y||isNaN(t)||(Site.undoRun(J,{type:"module.marginDrag",detail:"moduleMarginLeftDrag",undoArgs:[0,y],redoArgs:[0,t]}),y=t=null)}}),M.find(".J_right_padding_btn").draggable("destroy").draggable({handle:".J_right_padding_btn",axis:"x",revert:!0,helper:function(){return e('<div class="fk-MarginLine J_paddingMarginLine"></div>')},start:function(t,a){Fai.top.moveBtnExecuting=!0,e(this).parent().show(),T.show(),L(1),Site.disableEditLayer(),e(this).addClass("fk-right-padding-selected"),r=a.offset.left,c=parseInt(k.find(".formMiddleContent"+i).css("margin-right").replace("px","")),y=c},drag:function(t,a){x(1,r-a.offset.left+c),p(e(this).parent(),T,5),f(i,4)},stop:function(){e(this).removeClass("fk-right-padding-selected"),T.hide(),e(this).parent().hide(),Fai.top.moveBtnExecuting=!1,Fai.top.mouseoverLine=!1,L(0),Site.enableEditLayer(),E(),D(i,3);var t=parseInt(k.find(".formMiddleContent"+i).css("margin-right").replace("px",""));null===y||isNaN(t)||(Site.undoRun(x,{type:"module.paddingDrag",detail:"modulePaddingRightDrag",undoArgs:[1,y],redoArgs:[1,t]}),y=t=null)}}),M.find(".J_right_margin_btn").draggable("destroy").draggable({handle:".J_right_margin_btn",axis:"x",revert:!0,helper:function(){return e('<div class="fk-MarginLine J_paddingMarginLine"></div>')},start:function(t,i){Fai.top.moveBtnExecuting=!0,e(this).parent().show(),T.show(),L(1),Site.disableEditLayer(),e(this).addClass("fk-right-margin-selected"),r=i.offset.left,u=parseInt(k.css("margin-right").replace("px","")),y=u},drag:function(t,a){J(1,r-a.offset.left+u),p(e(this).parent(),T,6),f(i,0),w({moduleId:i})},stop:function(){e(this).removeClass("fk-right-margin-selected"),T.hide(),e(this).parent().hide(),Fai.top.moveBtnExecuting=!1,Fai.top.mouseoverLine=!1,L(0),Site.enableEditLayer(),E(),Site.logDog(100045,50);var t=parseInt(k.css("margin-right").replace("px",""));null===y||isNaN(t)||(Site.undoRun(J,{type:"module.marginDrag",detail:"moduleMarginRightDrag",undoArgs:[1,y],redoArgs:[1,t]}),y=t=null)}}),M.find(".J_bottom_padding_btn").draggable("destroy").draggable({handle:".J_bottom_padding_btn",axis:"y",revert:!0,helper:function(){return e('<div class="fk-MarginLine J_paddingMarginLine"></div>')},start:function(t,a){Fai.top.moveBtnExecuting=!0,e(this).parent().show(),T.show(),L(1),Site.disableEditLayer(),e(this).addClass("fk-bottom-padding-selected"),g=a.offset.top,v=parseInt(k.find(".formMiddleContent"+i).css("margin-bottom").replace("px","")),y=v},drag:function(t,a){x(3,a.offset.top-g+v),p(e(this).parent(),T,7),f(i,0)},stop:function(){e(this).removeClass("fk-bottom-padding-selected"),T.hide(),e(this).parent().hide(),Fai.top.moveBtnExecuting=!1,Fai.top.mouseoverLine=!1,L(0),Site.enableEditLayer(),E(),D(i,4);var t=parseInt(k.find(".formMiddleContent"+i).css("margin-bottom").replace("px",""));null===y||isNaN(t)||(Site.undoRun(x,{type:"module.marginDrag",detail:"modulemarginBottomDrag",undoArgs:[3,y],redoArgs:[3,t]}),y=t=null)}}),M.find(".J_bottom_margin_btn").draggable("destroy").draggable({handle:".J_bottom_margin_btn",axis:"y",revert:!0,helper:function(){return e('<div class="fk-MarginLine J_paddingMarginLine"></div>')},start:function(t,i){Fai.top.moveBtnExecuting=!0,e(this).parent().show(),T.show(),L(1),Site.disableEditLayer(),e(this).addClass("fk-bottom-margin-selected"),g=i.offset.top,h=parseInt(k.css("margin-bottom").replace("px","")),y=h},drag:function(t,i){J(3,i.offset.top-g+h),p(e(this).parent(),T,8)},stop:function(){e(this).removeClass("fk-bottom-margin-selected"),T.hide(),e(this).parent().hide(),Fai.top.moveBtnExecuting=!1,Fai.top.mouseoverLine=!1,L(0),Site.enableEditLayer(),E(),Site.logDog(100045,48);var t=parseInt(k.css("margin-bottom").replace("px",""));null===y||isNaN(t)||(Site.undoRun(J,{type:"module.marginDrag",detail:"modulemarginBottomDrag",undoArgs:[3,y],redoArgs:[3,t]}),y=t=null)}});var I=null;function P(e,t){var i=Fai.top.$("#module"+e);i.css("height",t+"px"),f(e,0),Site.refreshModuleHeightForStop(i,e)}function J(e,t){var a,o,n,l=parseInt(k.parent().outerWidth()/2),d=Site.isVueStyleGrayTest(i)?S.o:S.outside;if(0==d.y&&(d.t=parseInt(k.css("margin-top")),d.b=parseInt(k.css("margin-bottom")),d.l=parseInt(k.css("margin-left")),d.r=parseInt(k.css("margin-right"))),d.y=1,Site.setModuleStyleCss(i,"","padding","0px"),0==e){if(t<-500)return;t>=-500&&t<0&&(t=0),"undefined"==typeof d.r&&(d.r=0),(o=parseInt(k.css("margin-right")))!=d.r&&(d.r=o),t>(n=l-d.r)&&(t=n),d.l=t,0==t?T.html("左外边距 : "+t+"<br>外边距不支持拖动负值，请往右拖"):t==n?T.html("左外边距 : "+t+"<br>左右外边距的和，不能超过"+l+"px"):T.text("左外边距 : "+t),Site.setModuleStyleCss(i,"","margin-left",t+"px")}else if(1==e){if(t<-500)return;t>=-500&&t<0&&(t=0),"undefined"==typeof d.l&&(d.l=0),(a=parseInt(k.css("margin-left")))!=d.l&&(d.l=a),t>(n=l-d.l)&&(t=n),d.r=t,0==t?T.html("右外边距 : "+t+"<br>外边距不支持拖动负值，请往左拖"):t==n?T.html("右外边距 : "+t+"<br>左右外边距的和，不能超过"+l+"px"):T.text("右外边距 : "+t),Site.setModuleStyleCss(i,"","margin-right",t+"px")}else if(2==e){if(t<-500)return;t>=-500&&t<0&&(t=0),t>1e3&&(t=1e3),d.t=t,0==t?T.html("上外边距 : "+t+"<br>外边距不支持拖动负值，请往下拖"):1e3==t?T.html("上外边距 : "+t+"<br>拖动范围为小于1000的数值"):T.text("上外边距 : "+t),Site.setModuleStyleCss(i,"","margin-top",t+"px")}else if(3==e){if(t<-500)return;t>=-500&&t<0&&(t=0),t>1e3&&(t=1e3),d.b=t,0==t?T.html("下外边距 : "+t+"<br>外边距不支持拖动负值，请往下拖"):1e3==t?T.html("下外边距 : "+t+"<br>拖动范围为小于1000的数值"):T.text("下外边距 : "+t),Site.setModuleStyleCss(i,"","margin-bottom",t+"px")}Site.refreshModuleHeight(i)}function x(e,t){var a,o=Site.isVueStyleGrayTest(i)?S.i:S.inner,n=parseInt(k.outerWidth()/2);o.y=1,Site.setModuleStyleCss(i,".formMiddleContent"+i,"padding","0px"),0==e?(t<-100&&(t=-100),"undefined"==typeof o.r&&(o.r=0),t>(a=n-o.r)&&(t=a),o.l=t,-100==t?T.html("左内边距 : "+t+"<br>拖动范围为大于等于-100的数值"):t==a?T.html("左内边距 : "+t+"<br>左右内边距的和，不能超过"+n+"px"):T.text("左内边距 : "+t),k.hasClass("formStyle76")?Site.setModuleStyleCss(i,".formMiddleContent"+i+" .p_m_cotainer","padding-left",t+"px"):Site.setModuleStyleCss(i,".formMiddleContent"+i,"margin-left",t+"px")):1==e?(t<-100&&(t=-100),"undefined"==typeof o.l&&(o.l=0),t>(a=n-o.l)&&(t=a),o.r=t,-100==t?T.html("右内边距 : "+t+"<br>拖动范围为大于等于-100的数值"):t==a?T.html("右内边距 : "+t+"<br>左右内边距的和，不能超过"+n+"px"):T.text("右内边距 : "+t),k.hasClass("formStyle76")?Site.setModuleStyleCss(i,".formMiddleContent"+i+" .p_m_cotainer","padding-right",t+"px"):Site.setModuleStyleCss(i,".formMiddleContent"+i,"margin-right",t+"px")):2==e?((t<-100||t>=1e3)&&(t=t<-100?-100:999),o.t=t,-100==t||999==t?T.html("上内边距 : "+t+"<br>拖动范围为大于等于-100，小于1000的数值"):T.text("上内边距 : "+t),Site.setModuleStyleCss(i,".formMiddleContent"+i,"margin-top",t+"px")):3==e&&((t<-100||t>=1e3)&&(t=t<-100?-100:999),o.b=t,-100==t||999==t?T.html("下内边距 : "+t+"<br>拖动范围为大于等于-100，小于1000的数值"):T.text("下内边距 : "+t),Site.setModuleStyleCss(i,".formMiddleContent"+i,"margin-bottom",t+"px")),Site.refreshModuleHeight(i)}function E(){S.changed=!0,Site.styleChanged()}function L(e){1==e?k.addClass("form-for-paddingMargin-wrap"):k.removeClass("form-for-paddingMargin-wrap")}function D(e,t){var i=Site.getModuleStatus(e);if(2==i)switch(t){case 1:Site.logDog(100045,55);break;case 2:Site.logDog(100045,57);break;case 3:Site.logDog(100045,58);break;case 4:Site.logDog(100045,56)}else if(1==i)switch(t){case 1:Site.logDog(100045,51);break;case 2:Site.logDog(100045,53);break;case 3:Site.logDog(100045,54);break;case 4:Site.logDog(100045,52)}}M.find(".J_bottom_height_btn").draggable("destroy").draggable({handle:".J_bottom_height_btn",axis:"y",revert:!0,helper:function(){return e('<div class="fk-MarginLine J_paddingMarginLine"></div>')},start:function(t,i){Fai.top.moveBtnExecuting=!0,e(this).addClass("fk-module-height-selected"),e(this).parent().show(),T.show(),L(1),Site.disableEditLayer(),b=i.offset.top,_=parseInt(k.css("height").replace("px","")),k.attr("_autoheight",0),y=_},drag:function(t,a){if("number"!=typeof I){I=setTimeout((function(){I=null}),60);var o=a.offset.top-b+_;if(!(o<0||o>2e3)){o>=0&&o<10&&(o=10);var n=e(t.target).parent().parent().parent().siblings(".formWrap".concat(i));!function(t,i){if(i[0]){var a=i.find(".is_pack").children(".form_item:visible"),o=0;if(0!=a.length&&Array.from(a).forEach((function(e){o=e.getBoundingClientRect().bottom>o?e.getBoundingClientRect().bottom:o})),t[0].getBoundingClientRect().bottom<o){var n=t.outerHeight(),l=t.outerWidth(),d=e("#formDockTip").outerWidth(),s=e("#formDockTip").outerHeight(),r=t.offset().top,u=t.offset().left;e("#formDockTip").offset({top:r+n-10-s,left:u-d/2+l/2}),e("#formDockTip").css("display","block")}else e("#formDockTip").css("display","none")}}(k,n),k.css("height",o+"px"),T.text("高度 : "+o),p(k,T,9),Site.refreshModuleHeightForStop(k,i)}}},stop:function(){e(this).removeClass("fk-module-height-selected"),e("#formDockTip").hide(),T.hide(),e(this).parent().hide(),Fai.top.moveBtnExecuting=!1,Fai.top.mouseoverLine=!1,L(0),Site.enableEditLayer(),E(),Site.logDog(100045,59);var t=parseInt(k.css("height").replace("px",""));null===y||isNaN(t)||(Site.undoRun(P,{type:"module.heightDrag",detail:"moduleHeightBottomDrag",undoArgs:[i,y],redoArgs:[i,t]}),y=t=null),k.children(".J_oper_btn_wrap").find(".ui-resizable-cancelTip").length<1&&Site.addAutoHeightBtn(k)}})}(i)):(a.find(".J_setting_btn_box").hide(),c(i,o,a),f(i,0))}(i.id)}}})).on("mouseleave.moduleEdit",(function(){if(!Fai.top._moduleShowParallaxTmpData){P(i.id,"leaveParentModule"),P(i.id,"leaveSideModule"),P(i.id,"bindToolbarEvent_mouseleave"),d.isLeave(i.id);var t=b(e(this)),a=-1;t.inTabId>0?a=t.inTabId:t.inMulColId>0?a=t.inMulColId:t.inFullmeasureId>0?a=t.inFullmeasureId:t.inPackId>0?a=t.inPackId:t.inTabPackId>0&&(a=t.inTabPackId),a>0&&(P(a,"leaveParentModule"),P(a,"leaveSideModule"),d.open(a),d.isLeave(a)),function(e){P(e.id,"initToolbar_mouseleave");var t=setTimeout((function(){d.getStatus(e.id)||M(e.id)}),100);I(e.id,"initToolbar_mouseleave",t)}(i),function(e){var t=d.getActivePart(e.id);1==t||2==t||3==t?g(e.id):Site.removeMoveFrame("module"+e.id)}(i),function(e){P(e.id,"initDrag");var t=setTimeout((function(){d.getStatus(e.id)?4==d.getActivePart(e.id)&&k(e.id):_(e.id)}),100);I(e.id,"initDrag",t)}(i),function(e){P(e.id,"initResizeCancel_mouseleave");var t=setTimeout((function(){!d.getStatus(e.id)&&C(e.id)}),100);I(e.id,"initResizeCancel_mouseleave",t)}(i),function(e){setTimeout((function(){!d.getStatus(e.id)&&y(e.id)}),100)}(i),P(i.id,"moduleEditMouseleave");var o=setTimeout((function(){d.getStatus(i.id)||v(i)}),300);I(i.id,"moduleEditMouseleave",o)}})).on("mouseenter.moduleEdit",(function(){P(i.id,"moduleEditMouseleave")})),function(e){var t=Fai.top.$("#module"+e.id);if(t.length<1)return;var i=b(t);i.isMulCol||i.isPack?t.find(".formBanner"+e.id).off("mouseover.moduleEdit").off("mouseleave.moduleEdit").on("mouseover.moduleEdit",(function(){d.onMultiModule(e.id)})).on("mouseleave.moduleEdit",(function(){d.offMultiModule(e.id)})):(i.isTab||i.isTabPack)&&t.find(".titleTable").off("mouseover.moduleEdit").off("mouseleave.moduleEdit").on("mouseover.moduleEdit",(function(){d.onMultiModule(e.id)})).on("mouseleave.moduleEdit",(function(){d.offMultiModule(e.id)}))}(i),function(e){Fai.top.$("#module"+e.id).delegate(".J_resizableTip","mouseover.resizeCancelBtn",(function(){d.isActive(e.id,"resizeCancel"),d.lock(e.id),P(e.id,"resizeCancelBtnMouseover"),P(e.id,"resizeCancelBtnMouseleave");var t=setTimeout((function(){3==d.getActivePart(e.id)&&(_(e.id),M(e.id,400))}),300);I(e.id,"resizeCancelBtnMouseover",t)})).delegate(".J_resizableTip","mouseleave.resizeCancelBtn",(function(){d.open(e.id),d.isLeave(e.id),P(e.id,"resizeCancelBtnMouseover"),P(e.id,"resizeCancelBtnMouseleave");var t=setTimeout((function(){d.getStatus(e.id)&&4!=d.getActivePart(e.id)&&(F(e.id),S(e.id))}),100);I(e.id,"resizeCancelBtnMouseleave",t)}))}(i),Fai.top._canDesign||Site.removeDesignEditLayer(),Fai.top._canEditData||Site.removeAllDataEditLayer();var s=Site.checkNestModule(o),h=s.isPack,J=s.isTabPack,x=s.isFullmeasurePack,E=s.inFullmeasurePack,L=s.inTopAdvZone,D=s.inBottomFloatLayer;(h||J||x)&&(E||L||D||i.toolList.some((function(e){return"hoverAnimatedIcon"==e.iconClass}))&&Site.logDog(201287,1),J&&Site.logDog(201288,6))},t.destroy=function(i){var a=Fai.top.$("#module"+i);a.length<1||(a.off("mousemove.moduleEdit").off("mouseleave.moduleEdit").off("mouseenter.floatFutterBorder").off("mouseleave.floatFutterBorder"),a.hasClass("formStyle86")&&a.off("mouseenter.editLine").off("mouseleave.editLine"),a.find(".J_paddingMarginWrap").remove(),e("#fk-moduleToolbar"+i).remove(),t.remove(i))},t.remove=function(e){v({id:e})},t.contextMenu=function(e,t){var i=b(Fai.top.$("#module"+e)),a=-1;i.inTabId>0?a=i.inTabId:i.inMulColId>0?a=i.inMulColId:i.inFullmeasureId>0?a=i.inFullmeasureId:i.inPackId>0?a=i.inPackId:i.inTabPackId>0&&(a=i.inTabPackId),t?d.onContextMenu(e):d.offContextMenu(e),J(e),a>0&&(t?d.onContextMenu(a):d.offContextMenu(a),J(a))},t.lockEdit=function(e){!function(e){n.ManageModule.lockModule(e)}(e)},t.openEdit=function(e){x(e)},t.clickForOpenEdit=function(e){x(e),Fai.top.$("#module"+e).children(".J_lockEditTip").addClass("fk-openEditTip").removeClass("fk-lockEditTip").removeAttr("onclick")},t.hidePaddingMarginWrap=function(e){var t=Fai.top.$("#module"+e).find(">.J_paddingMarginWrap");t.length<1||t.find(".J_setting_btn_box").hide()}}(jQuery,Site.moduleEditTool)}})}));