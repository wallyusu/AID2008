!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("__webpack_no_use_variable",[],e):"object"==typeof exports?exports.__webpack_no_use_variable=e():t.__webpack_no_use_variable=e()}(this,(function(){return function(t){var e={};function a(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=1311)}({1311:function(t,e){Site.productSlide={},function(t,e){var a,i,n,s,o,l,r,p,u,d,c,f,m=-1,h=null,v="",g="",b=82,_=!0;e.data={},e.dom={},e.cachePreviewImgList=[];var C=2052==Fai.top._lcid||1028==Fai.top._lcid;function y(){var t=[],e=Fai.top._isMallWeb?"":"J_webSite_slide";return t.push('<div class="fk-slideForProduct" id="fk-productSlidePanel" style="display:none;">'),t.push('\t<div class="f-contentBg J_contentBg J_popup_bg"></div>'),t.push('\t<div class="f-content J_content '+e+'" id="fk-productSlideContent">'),t.push('\t\t<div class="f-innerContent">'),function(t){t.push('<div class="f-multiContent J_multiContent">'),function(t){t.push('<div class="f-multiContent-left J_multiContentLeft">'),function(t){t.push('<div class="f-productPicContent J_productPicContent">'),t.push('\t<div class="f-productImg J_productImg">'),t.push('\t\t<div class="f-productImgLoading"></div>'),t.push("\t</div>"),t.push('\t<div class="f-productImgGroup J_productImgGroup" style="display:none;">'),t.push('\t\t<div class="f-productImgGroupBg"></div>'),t.push('\t\t<div class="f-imgListWrap J_imgListWrap">'),t.push("\t\t</div>"),t.push('\t\t<a href="javascript:;" onclick="return false;" class="f-groupLeft J_groupLeft" hidefocus="true">向左</a>'),t.push('\t\t<a href="javascript:;" onclick="return false;" class="f-groupRight J_groupRight" hidefocus="true">向右</a>'),t.push("\t</div>"),t.push("</div>"),t.push('<div class="f-shareContent J_shareContent">'),t.push("</div>")}(t),t.push("</div>"),t.push('<div class="f-multiContent-right J_multiContentRight">'),function(t){t.push('<div class="f-productDetailContent J_productDetailContent">'),t.push("</div>"),t.push('<div class="optionMsg"></div>'),t.push('<div class="f-productBuyContent J_productBuyContent">'),t.push("</div>")}(t),t.push("</div>")}(t),t.push("</div>"),t.push('<div class="f-albumsContent J_albumsContent">'),function(t){t.push('<div class="f-albumsWrap J_albumsWrap">'),t.push("</div>"),t.push('<a href="javascript:;" onclick="return false;" class="f-albumsLeft J_albumsLeft" hidefocus="true">向左</a>'),t.push('<a href="javascript:;" onclick="return false;" class="f-albumsRight J_albumsRight" hidefocus="true">向右</a>')}(t),t.push("</div>")}(t),t.push("\t\t</div>"),t.push('\t\t<a href="javascript:;" class="f-turnLeft J_turnLeft" onclick="return false;" hidefocus="true">向右</a>'),t.push('\t\t<a href="javascript:;" class="f-turnRight J_turnRight" onclick="return false;" hidefocus="true">向左</a>'),t.push('\t\t<a href="javascript:;" class="f-close J_close" onclick="return false;" title="关闭" hidefocus="true">关闭</a>'),t.push("\t</div>"),t.push("</div>"),t}function P(e){var a,i=!1;if(null==e)return i;for(var n=e.length,s=0;s<n;s++){var o=(a=e[s]).type,l=a.value||"";if(!(t.trim(l).length<1)&&11==o){i=!0;break}}return i}function w(){var a=e.dom;a.productDetailContent.empty(),a.productDetailContent.append(function(){if(!e.data.nowData)return"";var a,i,n,o,m,v,g,_,y=[],w=[],S=e.data,J=S.nowData,k=J.propList||[],I=("undefined"!=typeof J.saleId&&J.saleId,"undefined"!=typeof J.salePromotion?J.salePromotion:[]),L="g_stress mallPriceBig f-mallPriceWrap",F="g_minor mallMarketPrice f-mallPriceWrap",j="",B="",D="",R="";f=l<100&&l>=.1||J.actualPrice!=J.mallPrice,p?("actualPrice"in J&&(r=J.actualPrice),l="discount"in J?J.discount:100,f=l<100&&l>=.1||J.actualPrice!=J.mallPrice,u=!!J.indepPrice):("actualPrice"in J&&(r=J.actualPrice),r=parseFloat(r)*l*.01),null==I&&I==[]||1==P(k)&&x(I,!1)&&(f=!1,w.push('<div class="fk-saleTime J_saleProTimeCount J_saleRemove">'),w.push("<table>"),w.push("<tr>"),w.push("<td>"),w.push('<div class="showSaleTimeImg fk-showSaleTimeImg">'),w.push("</div>"),w.push("</td>"),w.push('<td class="J_showSaleTimeClass fk-showSaleTimeStyle">'),w.push("</td>"),w.push("</tr>"),w.push("</table>"),w.push("</div>")),"undefined"!=typeof J.salePromotion&&(f=!1),a=J.name,g=k.length;for(v=0;v<g;v++)if(i=(_=k[v]).name,n=_.type,_.fileId,o=_.value||"",!(t.trim(o).length<1)){if(11==n&&f?(j=F,B=L):j=11!=n||f?12==n?F:"":L,11==n&&f?(D="",R="J_mallPriceClass"):D=11!=n||f?"":"J_mallPriceClass",w.push('<div class="f-propContent '+D+'">'),w.push('<div class="f-propName" title="'+i+'" style="width:'+b+'px">'+i+'<span class="f-colon">:</span></div>'),w.push('<div class="f-propValue '+j+'">'),11==n)if(w.push('\t<span class="f-currencyVal">'+s.choiceCurrencyVal+"</span>"),f){w.push('\t<span class="mallPrice J_realMallAmount">'+(C?o:Fai.formatPriceEn(o))+"</span>"),w.push("\t</div>"),w.push("</div>"),w.push('<div class="f-propContent '+R+'">'),w.push('<div class="f-propName" title="'+i+'" style="width:'+b+'px">'+d+'<span class="f-colon">:</span></div>'),w.push('<div class="f-propValue '+B+'">'),w.push('<span class="f-currencyVal">'+s.choiceCurrencyVal+"</span>");var O="";if(o.indexOf("~")>=0)if(u)O=r;else{var N=o.split("~"),T=parseFloat(N[0])*l*.01,W=parseFloat(N[1])*l*.01;O=T.toFixed(2)+"~"+W.toFixed(2)}else O=r,O=parseFloat(O).toFixed(2);w.push('<span class="f-mallPrice mallPrice" id="realMallAmount">'+(C?O:Fai.formatPriceEn(O))+"</span>"),w.push('<span class="fk-mallBuy-big memberPrice">'+(C?c:Fai.formatPriceEn(c))+"</span>")}else w.push('\t<span class="mallPrice J_realMallAmount" id="realMallAmount">'+(C?o:Fai.formatPriceEn(o))+"</span>");else 12==n?(w.push('<span class="f-currencyVal">'+s.choiceCurrencyVal+"</span>"),w.push('<span class="mallPrice">'+(C?o:Fai.formatPriceEn(o))+"</span>")):13==n?w.push('<span id="mallAmount">'+o+"</span>"):16==n?w.push('<span id="mallWeight">'+o+"</span>"+J.weightTypeStr):w.push(o);w.push("</div>"),w.push("</div>")}if(s.mallOpen||s.isJZShoppingOptionAllow){if((s.mallShoppingOptions||s.isJZShoppingOptionOpen)&&"showOptionList"in J){var A=J.showOptionList||[],M=J.oldOptionsStr,E=!1,H=J.optionsAmountList||[],z=J.openPriceCalendar,U=A.length;f&&t.each(H,(function(t,e){e.oPrice=u?r:e.oPrice*l*.01}));for(var V=0;V<U;V++){var q=A[V],Z=q.items,G=q.fieldKey,K=0;if(M)for(var $=M.split("_"),X=0;X<$.length;X++)G==$[X]?K=X:1==q.t&&(K=X,E=!0);var Y=Z.length,Q=Site.preprocessUrl({path:"",oldPath:""});if(Y>0){w.push('<div class="f-propContent f-optionContent">'),w.push('<div class="f-propName" title="" style="width:'+b+'px">'+Fai.encodeHtml(q.name)+'<span class="f-colon">:</span></div>'),w.push('<div class="propName" style="display:none;">'+Fai.encodeHtml(q.name)+"</div>"),w.push('<div class="f-optionValue" style="width:'+(318-b)+'px">'),w.push('<ul class="optionItemWrap J_optionItemWrap" data="'+q.fieldKey+'" type="'+q.type+'">');for(var tt=0;tt<Y;tt++){var et=Z[tt],at=et.i,it=et.v,nt=et.path,st=!1;if(H)for(var ot=0;ot<H.length;ot++){var lt,rt=H[ot],pt=rt.t2;lt="flag"in rt?rt.flag:1;var ut=pt.split("_");if(1==lt&&K<ut.length&&ut[K]==at){st=!0;break}}if(st){if(w.push('<li class="optionItem">'),nt){w.push('<span class="img-n">'+Fai.encodeHtml(it)+"</span>");var dt=et.orgPic;dt?w.push('<img class="i-img J-item J-item-img" src="'+nt+'" data="'+at+'" _fk-org="'+dt+'" faiWidth="'+et.faiWidth+'" faiHeight="'+et.faiHeight+'"/>'):w.push('<img class="i-img J-item J-item-img" src="'+nt+'" data="'+at+'"/>')}else w.push('<a class="J-item oItem" href="javascript:;" hidefocus="true" data="'+Fai.encodeHtmlAttr(at)+'">'),w.push("<span>"+Fai.encodeHtml(it)+"</span>"),w.push("</a>");w.push('</li">')}}w.push("</ul>"),w.push("</div>"),w.push("</div>")}E&&z&&(w.push('<div class="f-propContent f-optionContent">'),w.push('<div class="f-propName" title="" style="width:'+b+'px">'+Fai.encodeHtml(q.name)+'<span class="f-colon">:</span></div>'),w.push("<a hidefocus='true' class='priceCalendarOuter' href='"+Q+"pd.jsp?id="+S.id+"' target='_blank'>"),w.push("<div class='priceCalendarWrapper'><div class='priceCalendarTrigger'>请输入</div><span class='priceCalendarIcon'></span></div>"),w.push("<div class='priceCalendarBg'><div id='priceCalendar'></div></div>"),w.push("</a>"),w.push("</div>"))}e.data.isTimeOption=E&&z}if(s.mallOpen&&!h.hiddenBuybtn){var ct=1,ft="",mt="";if(J.limitAmount_mall){var ht=0,vt=J.productRestrictInfo;vt&&vt.count&&(ht=vt.count);var gt=0,bt=J.minAmount,_t=J.maxAmount;gt=_t-ht,Fai.fkEval(gt)<0&&(gt=-1),bt>1&&0!=_t?(mt="( "+LS.minAmount+" : "+bt+" ; "+LS.maxAmount+" : "+gt+" )",ft=' _min="'+bt+'" _max="'+gt+'" '):1==bt&&0!=_t?(mt="("+LS.maxAmount+" : "+gt+" )",ft='" _max="'+gt+'" '):bt>1&&0==_t&&(mt="( "+LS.minAmount+" : "+bt+")",ft=' _min="'+bt+'" '),ct=bt}w.push('<div class="f-propContent f-countContent">'),w.push('<div class="f-propName" title="" style="width:'+b+'px">'+LS.amountNum+'<span class="f-colon">:</span></div>'),w.push('<div class="f-propValue f-countValue" style="width:'+(318-b)+'px">'),w.push('<input id="cartbuyCountPdSlide" type="text" class="f-cartCountInput" onkeypress="javascript:return Fai.isNumberKey(event);" onchange="Site.mallBuyCountChange(\'PdSlide\')" value="'+ct+'" '+ft+"/>"),w.push('<div class="f-buyCountBtn">'),w.push('<span id="buyCountDesPdSlide" class="f-countBtn mallJia disableMallJian" onclick="Site.desMallBuyCount(\'PdSlide\')"></span>'),w.push('<span id="buyCountIncPdSlide" class="f-countBtn mallJian" onclick="Site.incMallBuyCount(\'PdSlide\')"></span>'),w.push("</div>"),w.push('<span id="limitAmountDiv" class="f-limitAmountDiv" title="'+mt+'">'),w.push(mt),w.push("</span>"),w.push("</div>"),w.push("</div>")}}if(y.push('<div class="f-productNameContent">'),y.push('\t<p class="f-productName">'),h.titleClick){m=e.data.nowData.productUrl;var Ct=JZ.createUrlArgsOnclickStr(e.data.nowData.productUrlArg);y.push('<a class="f-productTitle" href="'+m+'" target="_blank" '+Ct+">"),y.push(a),y.push("</a>")}else y.push(a);return y.push("\t</p>"),y.push("</div>"),y.push('<div class="f-underlineContent">'),y.push('<div class="f-underline"></div>'),y.push("</div>"),y.push('<div class="f-propListContent J_productProp">'),y.push(w.join("")),y.push("</div>"),y.join("")}()),a.productBuyContent.empty(),a.productBuyContent.append(function(){if((s.mallOpen||s.bookingOpen||s.isPayKnowProduct)&&!h.hiddenBuybtn){var a=[],i=e.data.isTimeOption,n=s.addCartText||"",o=s.buyNowText||"",l=s.addCartClickEvent||"",r=s.buyNowClickEvent||"",p=s.bookingInfo||"",u=e.data.nowData.isTimedAdded,d=Site.preprocessUrl({path:"",oldPath:""});if(s.mallOpen){if(a.push('<div class="f-buyContent">'),1!=s.showShoppingCart||u||(i?a.push('\t<a href="'+d+"pd.jsp?id="+e.data.id+'" target="_blank" hidefocus="true" class="fk-mall-addCart f-addCart"><span>'+n+"</span></a>"):a.push('\t<a href="javascript:;" onclick="'+l+'" hidefocus="true" class="fk-mall-addCart f-addCart"><span>'+n+"</span></a>")),u){var c=t.format.date(new Date(e.data.nowData.timedAddTime),"MM月dd日 HH:mm")+"开售";a.push('\t<span class="fk-mallBuy-big f-buyNow m_timedAddBtn"><span>'+c+"</span></span>")}else i?a.push('\t<a href="'+d+"pd.jsp?id="+e.data.id+'" target="_blank" hidefocus="true" class="fk-mallBuy-big f-buyNow"><span class="bug-img">&nbsp;</span><span>'+o+"</span></a>"):a.push('\t<a href="javascript:;" onclick="'+r+'" hidefocus="true" class="fk-mallBuy-big f-buyNow"><span class="bug-img">&nbsp;</span><span>'+o+"</span></a>");a.push("</div>")}else if(s.bookingOpen&&!p.bookingBtnHidden&&!e.data.nowData.isPayKnowProduct){var f="",m="",v=Site.productSlide.data.nowData.productFromId;p.openProductForm&&0!=v?f='onclick="Site.openProductFrom('.concat(v,');"'):(f="onclick=\"jzUtils.run({'name':'bookingSubmitPanel.init', 'prompt':'true'}, '{&quot;panelHeight&quot;:"+p.panelHeight+", &quot;panelWidth&quot;:"+p.panelWidth+", &quot;pid&quot;:"+Site.productSlide.data.id+"}');\"",m='<span class="bug-img fk-bookingIcon">&nbsp;</span>'),a.push('<div class="f-buyContent">'),i?a.push('\t<a href="'+d+"pd.jsp?id="+e.data.id+'" target="_blank" hidefocus="true" class="fk-mallBuy-big f-buyNow">'+m+"<span>"+Fai.encodeHtml(p.bookingNameStr)+"</span></a>"):a.push('\t<a href="javascript:;" '+f+' hidefocus="true" class="fk-mallBuy-big f-buyNow">'+m+"<span>"+Fai.encodeHtml(p.bookingNameStr)+"</span></a>"),a.push("</div>")}return a.join("")}}());var i=e.data.nowData;if(i){var n=i.optionsAmountList,o=i.relateAmount,m=i.mallPrice,v=i.productRestrictInfo,g=i.limitAmount_options,_=i.oldOptionsStr,y=i.limitAmount_mall,w={moduleId:"PdSlide",optionsAmountList:n,relateAmount:o,realMallPrice:m,limitAmount_options:g,productRestrictInfo:v,minAmount:i.minAmount,maxAmount:i.maxAmount,limitAmount_mall:y,oldOptionsStr:_};if(Site.productDetailInfo=w,Site.initProductRestrict(),s.mallShoppingOptions||s.isJZShoppingOptionOpen&&void 0!==n){_||(_="null");var S=i.salePromotion;void 0!==S&&(Site.salePromotionDetail.salePromotionParam=S),Site.initProductOptions(),Site.initOptionsStr()}}Fai.top._manageMode&&G()}function S(){var t=e.dom,a=e.data.nowData,i=t.multiContentRight,n=a.propList||[],o="undefined"!=typeof a.salePromotion?a.salePromotion:[],l="",r="";(s.saleShowType=1,null!=o&&o!=[])&&(1==P(n)&&(x(o,!0)||(i.find(".J_saleProTimeCount").remove(),l=o.beginTime,r=o.endTime,null!=l&&""!=l&&null!=r&&""!=r||k(o))))}function J(t,a,i,n){var o,l,r,p,u,d=e.dom.multiContentRight,c="",f=LS.salePromotionBegin,m=LS.salePromotionEnd,h=0;1==i?(c=f,h=t):(c=m,h=a),"2"==i&&k(n),clearInterval(s.saleCountTimeInterval),s.saleCountTimeInterval=setInterval((function(){o=parseInt(h/86400),l=parseInt(h/3600)-24*o,r=parseInt(h/60)-24*o*60-60*l,p=parseInt(h%60),h--,u=Fai.format(c,o,l,r,p),d.find(".J_showSaleTimeClass").html("&nbsp;&nbsp;"+u),h<0&&(1==i?(h=a,c=m,i=2,k(n)):(clearInterval(s.saleCountTimeInterval),d.find(".J_saleRemove").remove(),"1"==n.other.ruleData.s&&(d.find(".J_newMallPriceClass").find(".f-propValue").addClass("g_stress mallPriceBig"),d.find(".J_newMallPriceClass").find(".f-propValue").removeClass("g_minor mallMarketPrice"),d.find(".J_newMallPriceClass").find(".mallPrice").addClass("f-mallPrice"))))}),1e3)}function x(t,e){var a,i,n=!1,o=t.beginTime,l=t.endTime,r=(new Date).getTime()+s.timeDiff;return void 0===o||null==o||""==o||void 0===l||null==l||""==l||(a=new Date(o.replace(/-/g,"/")).getTime(),i=new Date(l.replace(/-/g,"/")).getTime(),(a>r||i>r)&&(n=!0),e&&(a>r?J(parseInt((a-r)/1e3),parseInt((i-a)/1e3),1,t):i>r&&J(parseInt((a-r)/1e3),parseInt((i-r)/1e3),2,t))),n}function k(a){if("1"==s.saleShowType){s.saleShowType=2;var i,n,o,l,r,p,u,d=[],c=[],f=e.dom.multiContentRight,m=[],h="";if(void 0!==a&&null!=a&&""!=a){var v=f.find(".J_mallPriceClass").find(".f-mallPrice").css("color");if(void 0!==v&&null!=v&&""!=v||(v="#cf0000"),"1"==a.saleType){l="",r=parseFloat(a.other.ruleData.d[0].m),p=t(".J_mallPriceClass").find(".f-propName").attr("title");var g=t(".J_mallPriceClass").find(".mallPrice").html();if(g.indexOf("~")>0){var _=g.split("~"),y=parseFloat(_[0]);isNaN(y)&&(y=0),m.push(y),y=parseFloat(_[1]),isNaN(y)&&(y=0),m.push(y)}else{var P=parseFloat(g);isNaN(P)&&(P=0),m.push(P)}for(var w=0;w<m.length;w++)u=0,"1"==a.other.ruleData.s?(l=2052==Fai.top._lcid||1028==Fai.top._lcid?Fai.format(LS.js_salePromotionDisCount,r):Fai.format(LS.js_salePromotionDisCount,Fai.formatPriceEn(10*(10-r),null,!0)),u=m[w]*(r/10)):(l=2052==Fai.top._lcid||1028==Fai.top._lcid?Fai.format(LS.salePromotionLapse,r):Fai.format(LS.salePromotionLapse,Fai.formatPriceEn(r,null,!0)),u=m[w]-r),(isNaN(u)||u<0)&&(u=0),w>0&&(h+="~"),h+=u.toFixed(2)+"";t(".J_mallPriceClass").find(".f-propValue").addClass("fk-saleRelative"),c.push('<div class="f-propContent J_newMallPriceClass">'),c.push('<div class="f-propName" title="'+p+'" style="width:'+b+'px">'+p+'<span class="f-colon">:</span></div>'),c.push('<div class="f-propValue g_minor mallMarketPrice f-mallPriceWrap">'),c.push('<span class="f-currencyVal">'+s.choiceCurrencyVal+"</span>"),c.push('<span class="mallPrice">'+g+"</span>"),c.push("</div>"),c.push("</div>"),t(".J_mallPriceClass").before(c.join("")),t(".J_mallPriceClass").find(".f-propName").html(LS.js_promotionPrice+"<span class='f-colon'>:</span>"),t(".J_mallPriceClass").find(".mallPrice").html(h),t(".J_mallPriceClass").find(".f-propName").attr("title",LS.js_promotionPrice),t(".J_mallPriceClass").addClass("J_saleRemove"),d.push('<span class="fk-saleTopSet fk-saleAbsolute"><table border="0" cellspacing="0" cellpadding="0"><tr>'),d.push('<td class="fk-saleTdSty1">'),d.push('<div  class="f-trangle " style="border-bottom: 5px solid '+v+';">'),d.push("</div>"),d.push("</td>"),d.push('<td class="fk-saleTdSty2">'),d.push('<div class="f-rect" style="background-color:'+v+';"  title="'+a.name+'">'),d.push(l),d.push("</div>"),d.push("</td>"),d.push("</tr></table></span>"),t(".J_mallPriceClass").find(".f-propValue").append(d.join(""))}else{n=20*(i=a.other.ruleData.d.length)+12*(i-1)+"px",d.push('<div class="f-propContent J_saleRemove">'),d.push('<div class="f-propName" title="'+LS.salePromotionName+'" style="height:'+n+";width:"+b+'px">'+LS.salePromotionName+'<span class="f-colon">:</span></div>'),d.push('<div class="f-propValue fk-saleRelative" style="height:'+n+'">'),d.push('<span class="saleHoverDefault fk-saleAbsolute" title="'+a.name+'">');for(var S=0;S<i;S++)o=0!=S?"top:"+30*S+"px":"top:0",d.push('<span class="fk-saleAbsolute" style="'+o+'">'),d.push('<span class="saleFullReBg" style="margin:0;background-color:'+v+';">'),d.push(Fai.format(LS.salePromotionOnlyFullReduce)),d.push("</span>"),d.push('<span style="margin:0;color:'+v+'">'),C?d.push("&nbsp;&nbsp;&nbsp;"+Fai.format(LS.js_salePromotionFullReduce,a.other.ruleData.d[S].m,a.other.ruleData.d[S].n)):d.push("&nbsp;&nbsp;&nbsp;"+Fai.format(LS.js_salePromotionFullReduce,Fai.formatPriceEn(a.other.ruleData.d[S].m,null,!0),Fai.formatPriceEn(a.other.ruleData.d[S].n,null,!0))),d.push("</span>"),d.push("</span>");d.push("</span>"),d.push("\t</div>"),d.push("</div>"),f.find(".J_mallPriceClass").after(d.join(""))}Site.showSalePromotionDl(),Fai.top._manageMode&&G()}}}function I(a){var n={};t.extend(n,{src:"",width:-1,height:-1},a),function(a){var n,s,o=e.dom.productImg,l=a.src||"",r=390,p=390,u=new Image,d=o.find(".J_nowImg");t.trim(l).length<1&&Fai.ing("找不到该图片",!0);if(d.length>0&&d.attr("src")==t.trim(l))return;o.empty().append('<div class="f-productImgLoading"></div>'),i&&i.onload&&(i.onload=function(){});u.onload=function(){var t,a,i=!1,c=!1,f="",m=[],v=[];if(t=n=u.width,a=s=u.height,n>=s&&n>r?(i=!0,t=r):s>p&&(c=!0,a=p),i&&(f+="width:"+t+"px;"),c&&(f+="height:"+a+"px;"),i&&!c&&(a=r*u.height/u.width),!i&&c&&(t=p*u.width/u.height),h.picZoom||h.picPopupPD)v.push('\t<img class="J_nowImg " src="'+l+'" style="'+f+'" />');else{var g=JZ.createUrlArgsOnclickStr(e.data.nowData.productUrlArg);v.push('\t<a class="f-imgClick" href="'+e.data.nowData.productUrl+'" target="_blank" title="'+LS.toProductDetail+'" '+g+">"),v.push('\t\t<img class="J_nowImg " src="'+l+'" style="'+f+'" />'),v.push("\t</a>")}m.push('<table cellpadding="0" cellspacing="0" class="f-imgContainer">'),m.push("\t<tr>"),m.push("\t\t<td>"),m.push(v.join("")),m.push("\t\t</td>"),m.push("\t</tr>"),m.push("</table>"),h.picZoom&&((v=[]).push(m.join("")),(m=[]).push('<div class="cloud-zoom f-imgWrap" href="'+l+'">'),m.push(v.join("")),m.push("</div>")),o.empty(),o.append(m.join("")),h.picZoom&&((d=o.find(".cloud-zoom")).attr("rel","adjustX:-4, adjustY:-4, maxWidth:"+r+", maxHeight:"+p+',position:"inside"'),d.CloudZoom({imageHeight:s,imageWidth:n}),h.picPopupPD||setTimeout((function(){var t=JZ.createUrlArgsOnclickStr(e.data.nowData.productUrlArg);o.find(".mousetrap").append('<a href="'+e.data.nowData.productUrl+'" target="_blank" hidefocus="true" class="f-popupImgA" title="点击查看产品详情" '+t+"></a>")}),30))},i=u,setTimeout((function(){u.src=l}),50)}(n)}function L(){var t=e.data.nowData;t&&I({src:t.picPath,width:t.picwidth,height:t.picHeight})}function F(){var i=e.dom,n=e.data,s=i.groupBtn;s.left.removeClass("f-BtnDisabled f-BtnEnabled"),s.right.removeClass("f-BtnDisabled f-BtnEnabled"),i.imgListWrap.empty(),i.imgListWrap.append(function(t){var i,n,s,o,l=[],r=[],p=0,u=!1,d="",c="",f=0,m=0;for(t=e.data.id,o=a.length,s=0;s<o;s++)if(a[s].id==t){i=a[s],u=!0;break}if(!u)return"";for(o=(n=i.picPathList||[]).length,s=0;s<o;s++)d=n[s].thumbPath,c=n[s].path,f=n[s].picWidth,m=n[s].picHeight,r.push("<li>"),r.push('\t<a href="javascript:;" class="J_pic" onclick="return false;" path="'+c+'" picwidth="'+f+'" picheight="'+m+'" >'),r.push('\t\t<img src="'+d+'" style="display: block; width:60px; height:60px;" />'),r.push("\t</a>"),r.push("</li>"),p+=68;return l.push('\t\t\t<div class="f-imgListOuter J_imgListOuter">'),l.push('\t\t\t\t<ul class="f-imgList J_imgList" style="width:'+p+'px;" _num="0">'),l.push(r.join("")),l.push("\t\t\t\t</ul>"),l.push("\t\t\t</div>"),l.join("")}(n.id)),i.imgListOuter=i.imgListWrap.find(".J_imgListOuter"),i.imgList=i.imgListWrap.find(".J_imgList"),i.imgList.find(".J_pic").hover((function(){I({src:t(this).attr("path"),width:t(this).attr("picwidth"),height:t(this).attr("picheight")})}))}function j(){var i=e.dom;i.albumsWrap.empty(),i.albumsWrap.append(function(){var t,e,i,n=[],s=[],o=0;if(a&&a.length>0){for(var l=0,r=a.length;l<r;l++)e=(t=a[l]).picThumbPath||"",i=t.id,s.push("<li>"),s.push('\t<div class="f-albumsImgWrap J_albumsImgWrap J_albumsImgWrap'+i+'">'),s.push('\t\t<a href="javascript:;" onclick="return false;" class="f-albumsImg J_albumsImg J_albumsImg'+i+'" _id="'+i+'">'),s.push('\t\t\t<img data-src="'+e+'" class="f_albums_image" />'),s.push("\t\t</a>"),s.push('\t\t<div class="f-albumsImgTip"></div>'),s.push("\t</div>"),s.push("</li>"),o+=90;n.push('<div class="f-albumsOuter J_albumsOuter">'),n.push('\t<ul class="f-albums J_albums" style="width:'+o+'px;" _num="0">'),n.push(s.join("")),n.push("\t</ul>"),n.push("</div>")}return n.join("")}()),i.albumsOuter=i.albumsWrap.find(".J_albumsOuter"),i.albums=i.albumsWrap.find(".J_albums"),i.albumsImgWrap=i.albums.find(".J_albumsImgWrap"),i.albums.children().first().outerWidth(),i.albums.find(".J_albumsImg").click((function(){H(t(this).attr("_id"))})),T(),N({index:m,visibleNum:2}),function(){var a=e.dom,i=a.albums,n=a.albumsOuter,s=a.albumsBtn,o={content:i,contentOuter:n,button:s,scrollRow:!0},l={};t.extend(l,o,{scrollRow:!0}),W(l)}()}function B(){var t=e.dom,a=e.data;t.albumsImgWrap.removeClass("f-albumsImgWrap-selected"),t.albumsImgWrap.filter(".J_albumsImgWrap"+a.id).addClass("f-albumsImgWrap-selected")}function D(i){var n=e.dom,s=0,o={content:n.albums,contentOuter:n.albumsOuter,button:n.albumsBtn,scrollRow:!0,visibleNum:2},l={};t.extend(l,o,i),l.scrollRow?O(l):(N({index:s=function(t){var e,a,i=t.content.children().length,n=0,s=m,o=t.direction,l=0,r=1,p=t.cycle||!1;if(e=i-i%r,o)if((a=s+r)<e)l=a;else if(s>e)l=0;else{if(e==i)return l=e-1,p&&(l=0),l;if(e==s)return l=e;l=e}else if((a=s-r)>n)l=a;else if(s<n)l=0;else if(l=n,n==s)return p&&(l=i-1),l;return l}(l),visibleNum:2}),function(t){if(m==t)return;a&&a[t]&&H(a[t].id)}(s)),W(l),t("#fk-productSlidePanel").find(".optionMsg").hide()}function R(a){var i=e.dom,n={content:i.imgList,contentOuter:i.imgListOuter,button:i.groupBtn,scrollRow:!0},s={};t.extend(s,n,a),O(s),W(s)}function O(t){var e=t.content,a=e.children(),i=a.length,n=a.first().outerWidth(),s=t.contentOuter.width(),o=parseInt(s/n),l=t.visibleNum||0,r=o-l,p=parseInt((i-l)/r),u=parseInt(e.attr("_num"))||0,d=0;if(i<=o?p=0:p*r-i>=0&&(p-=1),t.direction)if((d=u+1)>p)d=0,T(0),e.stop(!0).animate({left:"0"}),e.attr("_num",d);else{var c=-d*r*n;T(c),e.stop(!0).animate({left:c+"px"}),e.attr("_num",d)}else{(d=u-1)<0&&(d=p);var f=-d*r*n;T(f),e.stop(!0).animate({left:f+"px"}),e.attr("_num",d)}}function N(t){var a=e.dom,i=a.albums,n=i.children(),s=n.length,o=n.first().outerWidth(),l=a.albumsOuter.width(),r=parseInt(l/o),p=t.visibleNum||0,u=r-p,d=0,c=parseInt(i.attr("_num"))||0,f=0,m=0,h=t.index;if(p>parseInt(r/2)&&(u=r-(p=parseInt(r/2))),s>r&&h>=u?((d=parseInt((s-p)/u))*u-s>=0&&(d-=1),f=parseInt((h-p)/u),m=parseInt(h/u)):(d=0,f=0,m=0),f>d?f=0:f<0&&(f=d),c!=f&&c!=m){var v=-f*u*o;T(v),i.stop(!0).animate({left:v+"px"}),i.attr("_num",f)}}function T(t){for(var a=parseInt(t||0),i=e.dom.albums.children(),n=e.dom.albumsWrap.width(),s=i.eq(0).outerWidth(!0),o=parseInt(Math.abs(a)/s),l=o+Math.ceil(n/s),r=o;r<l;r++){var p=i.eq(r).find("img");p.length&&!p.attr("src")&&p.attr("src",p.attr("data-src"))}}function W(t){var e=t.content,a=e.children(),i=a.length,n=a.first().outerWidth(),s=t.contentOuter.width(),o=t.button,l=parseInt(s/n),r=t.visibleNum||0,p=l-r,u=parseInt((i-r)/p),d=parseInt(e.attr("_num"))||0;i<=l?u=0:u*p-i>=0&&(u-=1),d+1>u?(0,o.right.addClass("f-BtnDisabled").removeClass("f-BtnEnabled")):o.right.addClass("f-BtnEnabled").removeClass("f-BtnDisabled"),d-1<0?o.left.addClass("f-BtnDisabled").removeClass("f-BtnEnabled"):o.left.addClass("f-BtnEnabled").removeClass("f-BtnDisabled")}function A(i){var n,r,u=[];u.push(i.qsUrl),u.push("&cmd=getWafNotCk_list&part=true"),t.ajax({type:"get",cache:!1,url:Site.addRequestPrefix({newPath:"/ajax/productSlide_h.jsp",oldPath:Site.genAjaxUrl("productSlide_h.jsp")})+u.join(""),error:function(){Fai.ing("服务繁忙，请稍候重试",!1)},success:function(i){var u=t.parseJSON(i),f=e.data;if(u.success){if(a=u.list,h=u.setInfo,s=u.data,g=s.css,l=s.levelDiscount,d=s.memberPrice,p=s.proIndepDisc,_=s.isLoadAllPdList,c=s.memberPriceLabel,b=h.prop2,Fai.top._manageMode&&(o=u.itemList),a.length<1)return void Fai.ing("没有产品信息");if(n=(new Date).getTime(),r=s.svrTimeLong,s.timeDiff=r-n,s.saleShowType=1,s.saleCountTimeInterval="",-1==s.productId?f.id=a[0].id:f.id=s.productId,-1==(m=E(f.id)))return void Fai.ing("没有该产品信息");f.nowData=a[m],function(){if(function(a){!Site.checkCssLoad(g)&&t.trim(g).length>0?Site.demandLoadCss(g,(function(){"function"==typeof a.func&&a.func.apply(e,arguments)})):"function"==typeof a.func&&a.func.apply(e,arguments)}({func:function(){var t=e.dom;t.panel&&t.panel.length>0?t.panel.is(":hidden")&&t.panel.show():Fai.top.$("#fk-productSlidePanel").show(),L(),w(),S(),F(),j(),M(),B(),setTimeout((function(){z()}),50)}}),Fai.top._manageMode&&o&&o.length>0){var a=e.dom.content;a.off("mousemove.productSlide").on("mousemove.productSlide",(function(){Site.addEditLayer("fk-productSlideContent",o,100,{extCls:"fk-productSlideEditLayer"})})),a.off("mouseleave.productSlide").on("mouseleave.productSlide",(function(){Site.removeEditLayer("fk-productSlideContent")}))}}()}else Fai.ing("获取数据失败",!1)}})}function M(){h.shareShow&&(e.dom.shareContent.addClass("f-shareContentIniting"),clearTimeout(n),n=setTimeout((function(){var a=[];a.push("cmd=getWafNotCk_share"),a.push("&id="+e.data.id),a.push("&browserTitle="+Fai.top.document.title),t.ajax({type:"post",url:Site.addRequestPrefix({newPath:"/ajax/productSlide_h.jsp",oldPath:Site.genAjaxUrl("productSlide_h.jsp")}),data:a.join(""),error:function(){Fai.ing("服务繁忙，请稍后重试",!1)},success:function(a){var i=t.parseJSON(a),n=e.dom,s="";i.success?s=i.content||"":Fai.ing("获取数据失败",!1),n.shareContent.removeClass("f-shareContentIniting"),n.shareContent.empty().append(s)}})}),300))}function E(t){var e,i,n=-1;if(a&&a.length>0)for(i=a.length,e=0;e<i;e++)if(a[e].id==t){n=e;break}return n}function H(i){var n,s=e.data;-1!=(n=E(i))?n!=m&&(m=n,s.id=parseInt(i),s.nowData=a[m],function(){if((m+50>a.length||m-50<0)&&!_){var e=[];e.push(v),e.push("&cmd=getWafNotCk_list&part=false"),t.ajax({type:"get",cache:!1,url:Site.addRequestPrefix({newPath:"/ajax/productSlide_h.jsp",oldPath:Site.genAjaxUrl("productSlide_h.jsp")}),data:e.join(""),error:function(){Fai.ing("服务繁忙，请稍候重试",!1)},success:function(e){var i=t.parseJSON(e);i.success&&(a=i.list,_=!0)}})}}(),e.dom.imgList=null,L(),w(),S(),F(),M(),B(),setTimeout((function(){z()}),50)):Fai.ing("没有该产品信息")}function z(){var t,a,i,n=e.data.nowData.picPathList||[];for(a=n.length,t=0;t<a;t++)i=n[t].path,(new Image).src=i}function U(){a=null,m=-1,i=null,n=null,s=null,h=null,l=null,r=null,u=null,p=null,d=null,c=null,f=!1,e.data={},b=82}function V(){var a,i=e.dom,n=i.panelBtn,s=i.groupBtn,o=i.albumsBtn;n.close.click((function(){Z()})),n.left.click((function(){D({scrollRow:!1,direction:!1,cycle:!0,changeProduct:!0})})),n.right.click((function(){D({scrollRow:!1,direction:!0,cycle:!0,changeProduct:!0})})),o.left.click((function(){D({scrollRow:!0,direction:!1})})),o.right.click((function(){D({scrollRow:!0,direction:!0})})),s.left.click((function(){R({scrollRow:!0,direction:!1})})),s.right.click((function(){R({scrollRow:!0,direction:!0})})),i.contentBg.click((function(){Z()})),i.productPicContent.hover((function(){if(i.imgList){var n=i.imgList.children();n&&n.length<2||(a=setTimeout((function(){i.productImgGroup.slideDown("normal",(function(){!function(){var a=e.dom,i={content:a.imgList,contentOuter:a.imgListOuter,button:a.groupBtn,scrollRow:!0},n={};t.extend(n,i,{scrollRow:!0}),W(n)}()}))}),250))}}),(function(){clearTimeout(a),i.productImgGroup.slideUp()})),i.content.mouseleave((function(){clearTimeout(a),i.productImgGroup.slideUp()}))}function q(){var t=e.dom;Fai.top.$(".J_popup_bg").length>1&&t.contentBg.css("opacity",".15")}function Z(){var t=e.dom;Fai.top._manageMode&&o&&Site.removeEditLayer("fk-productSlideContent"),t.panel&&t.panel.hide(),U(),e.dom={},e.cachePreviewImgList=[],v="",g="",o=null,Fai.top.$("#fk-productSlidePanel").remove()}function G(){t(".f-propName").attr("class","f-propName paramResize"),function(){var e=t(".f-propListContent ").find(".f-propContent").find(".paramResize");if(e.length<1)return;e.each((function(){var e,a,i,n,s=t(this),o=Fai.isIE8()?t(document):t(window),l=t(this),r={};function p(e){e=e||window.event,r.x=e.pageX,t(this).hasClass("u-paramResize-w")?(r.dir="w",r.ptb=parseInt(l.css("width"))):t(this).hasClass("u-paramResize-e")&&(r.dir="e",r.ptb=parseInt(l.css("width"))),i=t("#dockTip").show().css({left:"-1000px;",top:"-1000px"}),o.off("mousemove.fi").on("mousemove.fi",u),o.off("mouseup.fi").on("mouseup.fi",d),e.preventDefault()}function u(e){t("body").css("cursor","e-resize"),t(".f-propName").css({"border-left":"1px dashed #2b73ba","border-right":"1px dashed #2b73ba","border-top":"1px solid #2b73ba","border-bottom":"1px solid #2b73ba"});var a,s,o={x:(e=e||window.event).pageX},l=1,p=200,u="";"w"==r.dir?(a=r.x-o.x,s=(s=(s=r.ptb+a)>l?s:l)>p?p:s,s=Math.round(s),u="宽度:"):"e"==r.dir&&(a=o.x-r.x,s=(s=(s=r.ptb+a)>l?s:l)>p?p:s,s=Math.round(s),u="宽度:"),n=s,t(".f-propName").css({width:s+"px"}),t(".f-optionValue").css({width:318-s+"px"}),t(".f-countValue").css({width:318-s+"px"}),i.html(u+s).css({left:e.pageX-28,top:e.pageY-40}),e.preventDefault()}function d(e){t("body").css("cursor",""),t(".f-propName").css("border","1px dashed transparent"),e=e||window.event,r.dir="",o.off("mousemove.fi"),o.off("mouseup.fi"),i.hide(),r={};var a="cmd=setWafCk_set&id="+h.id+"&style=19&prop0=1&prop2="+n,s=Site.addRequestPrefix({newPath:"/ajax/module_h.jsp",oldPath:Site.genAjaxUrl("module_h.jsp")});Fai.ing("正在保存……",!1),t.ajax({type:"post",url:s,data:a,error:function(){Fai.ing("服务繁忙，请稍候重试",!1)},success:function(e){var a=t.parseJSON(e);a.success?(Fai.ing("修改宽度成功",!0),b=n):(Fai.ing(a.msg,!1),t(".J_productDetailContent").find(".f-propContent").find(".paramResize").css("width",b))}}),e.preventDefault()}s.hasClass("paramResize")&&(s.before("<div class='u-paramResize-w' style='float:left' title='可拖动调节宽度'><div style='width:5px;height:"+t(s).outerHeight()+"px;z-index:999'></div></div>"),s.after("<div class='u-paramResize-e' style='float:left' title='可拖动调节宽度'><div style='width:5px;height:"+t(s).outerHeight()+"px;z-index:999'></div></div>"),t(".u-paramResize-e,.u-paramResize-w").css("cursor","e-resize")),e=t(s).prev(),(a=t(s).next()).hasClass("u-paramResize-e")&&e.hasClass("u-paramResize-w")&&(e.off("mousedown.fi").on("mousedown.fi",p),a.off("mousedown.fi").on("mousedown.fi",p))}))}(),t(".f-propName,.u-paramResize-e,.u-paramResize-w").hover((function(){t(".f-propName").css({"border-left":"1px dashed #2b73ba","border-right":"1px dashed #2b73ba","border-top":"1px solid #2b73ba","border-bottom":"1px solid #2b73ba"})}),(function(){t(".f-propName").css("border","1px dashed transparent")}))}e.init=function(t){var a,i;Z(),Fai.top.$("body").append(y().join("")),v=t,A({qsUrl:t}),a={eventFunc:V,styleFunc:q},(i=e.dom).panel=Fai.top.$("#fk-productSlidePanel"),i.content=i.panel.find(".J_content"),i.contentBg=i.panel.find(".J_contentBg"),i.panelBtn={},i.panelBtn.left=i.panel.find(".J_turnLeft"),i.panelBtn.right=i.panel.find(".J_turnRight"),i.panelBtn.close=i.panel.find(".J_close"),i.multiContent=i.panel.find(".J_multiContent"),i.albumsContent=i.panel.find(".J_albumsContent"),i.multiContentLeft=i.multiContent.find(".J_multiContentLeft"),i.multiContentRight=i.multiContent.find(".J_multiContentRight"),i.productDetailContent=i.multiContentRight.find(".J_productDetailContent"),i.productBuyContent=i.multiContentRight.find(".J_productBuyContent"),i.shareContent=i.multiContentLeft.find(".J_shareContent"),i.productPicContent=i.multiContentLeft.find(".J_productPicContent"),i.productImg=i.multiContentLeft.find(".J_productImg"),i.productImgGroup=i.multiContentLeft.find(".J_productImgGroup"),i.imgListWrap=i.multiContentLeft.find(".J_imgListWrap"),i.groupBtn={},i.groupBtn.left=i.multiContentLeft.find(".J_groupLeft"),i.groupBtn.right=i.multiContentLeft.find(".J_groupRight"),i.albumsWrap=i.albumsContent.find(".J_albumsWrap"),i.albumsBtn={},i.albumsBtn.left=i.albumsContent.find(".J_albumsLeft"),i.albumsBtn.right=i.albumsContent.find(".J_albumsRight"),"function"==typeof a.eventFunc&&setTimeout((function(){a.eventFunc.apply(e,arguments)}),30),"function"==typeof a.styleFunc&&setTimeout((function(){a.styleFunc.apply(e,arguments)}),30)},e.refresh=function(){var t;(t=e.dom).productDetailContent.empty(),t.productBuyContent.empty(),t.productImg.empty(),t.imgListWrap.empty(),t.albumsWrap.empty(),t.shareContent.empty(),U(),A({qsUrl:v})}}(jQuery,Site.productSlide)}})}));