!function(){"use strict";var l,s=function s(e,t){var o=e.style[t];if(e.currentStyle?o=e.currentStyle[t]:window.getComputedStyle&&(o=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),"auto"==o&&"cursor"==t)for(var r=["a","div"],i=0;i<r.length;i++)if(e.tagName.toLowerCase()==r[i])return"pointer";return o},r=function r(e){var t;m.prototype._singleton&&(e||(e=window.event),this!==window?t=this:e.target?t=e.target:e.srcElement&&(t=e.srcElement),m.prototype._singleton.setCurrent(t))},i=function i(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on"+t,o)},a=function a(e,t,o){e.removeEventListener?e.removeEventListener(t,o,!1):e.detachEvent&&e.detachEvent("on"+t,o)},p=function p(e,t){if(e.addClass)return e.addClass(t),e;if(t&&"string"==typeof t){var o=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var r=" "+e.className+" ",i=e.className,s=0,a=o.length;s<a;s++)r.indexOf(" "+o[s]+" ")<0&&(i+=" "+o[s]);e.className=i.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},d=function d(e,t){if(e.removeClass)return e.removeClass(t),e;if(t&&"string"==typeof t||t===undefined){var o=(t||"").split(/\s+/);if(1===e.nodeType&&e.className)if(t){for(var r=(" "+e.className+" ").replace(/[\n\t]/g," "),i=0,s=o.length;i<s;i++)r=r.replace(" "+o[i]+" "," ");e.className=r.replace(/^\s+|\s+$/g,"")}else e.className=""}return e},n=function n(e){var t={left:0,top:0,width:e.width||e.offsetWidth||0,height:e.height||e.offsetHeight||0,zIndex:9999},o=s(e,"zIndex");for(o&&"auto"!=o&&(t.zIndex=parseInt(o,10));e;){var r=parseInt(s(e,"borderLeftWidth"),10),i=parseInt(s(e,"borderTopWidth"),10);t.left+=isNaN(e.offsetLeft)?0:e.offsetLeft,t.left+=isNaN(r)?0:r,t.top+=isNaN(e.offsetTop)?0:e.offsetTop,t.top+=isNaN(i)?0:i,e=e.offsetParent}return t},h=function h(e){return m.prototype._singleton.options.useNoCache?(0<=e.indexOf("?")?"&nocache=":"?nocache=")+(new Date).getTime():""},c=function c(e){var t,o=[];e.trustedDomains&&("string"==typeof e.trustedDomains&&e.trustedDomains?t=[e.trustedDomains]:"length"in e.trustedDomains&&(t=e.trustedDomains),o.push("trustedDomain="+encodeURIComponent(t.join(","))));return"string"==typeof e.amdModuleId&&e.amdModuleId&&o.push("amdModuleId="+encodeURIComponent(e.amdModuleId)),o.join("&")},u=function u(e,t){if(t.indexOf)return t.indexOf(e);for(var o=0,r=t.length;o<r;o++)if(t[o]===e)return o;return-1},f=function f(e){if("string"==typeof e)throw new TypeError("ZeroClipboard doesn't accept query strings.");return e.length?e:[e]},m=function m(e,t){if(e&&(m.prototype._singleton||this).glue(e),m.prototype._singleton)return m.prototype._singleton;for(var o in(m.prototype._singleton=this).options={},v)this.options[o]=v[o];for(var r in t)this.options[r]=t[r];this.handlers={},m.detectFlashSupport()&&y()},g=[];m.prototype.setCurrent=function(e){l=e,this.reposition(),e.getAttribute("title")&&this.setTitle(e.getAttribute("title")),this.setHandCursor("pointer"==s(e,"cursor"))},m.prototype.setText=function(e){e&&""!==e&&(this.options.text=e,this.ready()&&this.flashBridge.setText(e))},m.prototype.setTitle=function(e){e&&""!==e&&this.htmlBridge.setAttribute("title",e)},m.prototype.setSize=function(e,t){this.ready()&&this.flashBridge.setSize(e,t)},m.prototype.setHandCursor=function(e){this.ready()&&this.flashBridge.setHandCursor(e)},m.version="1.2.0-beta.1";var v={moviePath:"ZeroClipboard.swf",trustedDomains:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain",useNoCache:!0,amdModuleId:null};m.setDefaults=function(e){for(var t in e)v[t]=e[t]},m.destroy=function(){m.prototype._singleton.unglue(g);var e=m.prototype._singleton.htmlBridge;e.parentNode.removeChild(e),delete m.prototype._singleton},m.detectFlashSupport=function(){var e=!1;if("function"==typeof ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){}return!e&&navigator.mimeTypes["application/x-shockwave-flash"]&&(e=!0),e};var y=function y(){var e=m.prototype._singleton,t=document.getElementById("global-zeroclipboard-html-bridge");if(!t){var o='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+e.options.moviePath+h(e.options.moviePath)+'"/>         <param name="allowScriptAccess" value="'+e.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+c(e.options)+'"/>         <embed src="'+e.options.moviePath+h(e.options.moviePath)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+c(e.options)+'"           scale="exactfit">         </embed>       </object>';(t=document.createElement("div")).id="global-zeroclipboard-html-bridge",t.setAttribute("class","global-zeroclipboard-container"),t.setAttribute("data-clipboard-ready",!1),t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px",t.style.width="15px",t.style.height="15px",t.style.zIndex="9999",t.innerHTML=o,document.body.appendChild(t)}e.htmlBridge=t,e.flashBridge=document["global-zeroclipboard-flash-bridge"]||t.children[0].lastElementChild};m.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.removeAttribute("title"),this.htmlBridge.removeAttribute("data-clipboard-text"),d(l,this.options.activeClass),l=null,this.options.text=null},m.prototype.ready=function(){var e=this.htmlBridge.getAttribute("data-clipboard-ready");return"true"===e||!0===e},m.prototype.reposition=function(){if(!l)return!1;var e=n(l);this.htmlBridge.style.top=e.top+"px",this.htmlBridge.style.left=e.left+"px",this.htmlBridge.style.width=e.width+"px",this.htmlBridge.style.height=e.height+"px",this.htmlBridge.style.zIndex=e.zIndex+1,this.setSize(e.width,e.height)},m.dispatch=function(e,t){m.prototype._singleton.receiveEvent(e,t)},m.prototype.on=function(e,t){for(var o=e.toString().split(/\s/g),r=0;r<o.length;r++)e=o[r].toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=t);this.handlers.noflash&&!m.detectFlashSupport()&&this.receiveEvent("onNoFlash",null)},m.prototype.addEventListener=m.prototype.on,m.prototype.off=function(e,t){for(var o=e.toString().split(/\s/g),r=0;r<o.length;r++)for(var i in e=o[r].toLowerCase().replace(/^on/,""),this.handlers)i===e&&this.handlers[i]===t&&delete this.handlers[i]},m.prototype.removeEventListener=m.prototype.off,m.prototype.receiveEvent=function(e,t){e=e.toString().toLowerCase().replace(/^on/,"");var o=l;switch(e){case"load":if(t&&parseFloat(t.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))<10)return void this.receiveEvent("onWrongFlash",{flashVersion:t.flashVersion});this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case"mouseover":p(o,this.options.hoverClass);break;case"mouseout":d(o,this.options.hoverClass),this.resetBridge();break;case"mousedown":p(o,this.options.activeClass);break;case"mouseup":d(o,this.options.activeClass);break;case"datarequested":var r=o.getAttribute("data-clipboard-target"),i=r?document.getElementById(r):null;if(i){var s=i.value||i.textContent||i.innerText;s&&this.setText(s)}else{var a=o.getAttribute("data-clipboard-text");a&&this.setText(a)}break;case"complete":this.options.text=null}if(this.handlers[e]){var n=this.handlers[e];"function"==typeof n?n.call(o,this,t):"string"==typeof n&&window[n].call(o,this,t)}},m.prototype.glue=function(e){e=f(e);for(var t=0;t<e.length;t++)-1==u(e[t],g)&&(g.push(e[t]),i(e[t],"mouseover",r))},m.prototype.unglue=function(e){e=f(e);for(var t=0;t<e.length;t++){a(e[t],"mouseover",r);var o=u(e[t],g);-1!=o&&g.splice(o,1)}},"undefined"!=typeof module?module.exports=m:"function"==typeof define&&define.amd?define(function(){return m}):window.ZeroClipboard=m}();