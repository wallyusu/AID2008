!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("__webpack_no_use_variable",[],i):"object"==typeof exports?exports.__webpack_no_use_variable=i():t.__webpack_no_use_variable=i()}(this,(function(){return function(t){var i={};function s(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=t,s.c=i,s.d=function(t,i,e){s.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,i){if(1&i&&(t=s(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)s.d(e,o,function(i){return t[i]}.bind(null,o));return e},s.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="",s(s.s=1305)}({1305:function(t,i){Site.ShoppingCart=function(t){this.moduleId=t,this.module=Fai.top.$("#module"+t),this.shoppingCart=this.module.find(".shoppingCart"+t),this.cartButton=this.module.find(".cartButton"),this.cartListWrap=Fai.top.$(".J_cartListWrap"+t),this.cartList=this.cartListWrap.find(".dropCartList"),this.colorCode=this.module.find(".shoppingCartBox").attr("cartColor")},function(t,i){var s=Site.ShoppingCart.prototype,e="";function o(t,i,s){a();var o=t.isValid,r=t.inValidType,n=[];n.push("<li class='sCart-sigle "+(o?"":"invalidItem")+"' itemId='"+t.id+"'>"),n.push("<div class='sC-img'>"),n.push("<img width='60' height='60' alt="+Fai.encodeHtml(t.name)+" src="+t.picPath+">"),n.push("</div>"),o||("notAdded"==r||"delete"==r?n.push("<div class='notAdded'><span class='notAddedTip' title='"+LS.js_notAdded+"'>"+LS.js_notAdded+"</span><i class='visible'></i></div>"):"outOfStock"==r&&n.push("<div class='notAdded'><span class='notAddedTip' style='font-size: 12px;line-height: normal;' title='"+LS.js_invalid+"'>"+LS.js_invalid+"</span><i class='visible'></i></div>")),n.push("<div class='sC-proLeft' style=' width: 100px'>"),n.push("<span class='sC-pdName' style='width:80px;' title='"+Fai.encodeHtml(t.name)+"'>"+Fai.encodeHtml(t.name)+"</span>"),n.push("<span class='sC-pdOption' style='width:135px;' title='"+Fai.encodeHtml(t.optionType)+"'>"+Fai.encodeHtml(t.optionType)+"</span>"),n.push("</div>");var p=t.amount;return p>9999&&(p=(p+"").substring(0,3)+"..."),n.push("<div class='sC-detail'>"),n.push("<a class='sC-delItem' style='font-size:12px;' hidefocus='true' href='javascript:;' itemId='"+t.id+"'  tmpProductId='"+t.id+"'>"+LS.memberMallCartDel+"</a>"),n.push("<span class='sC-amount' style='position:relative;float:right;'>x"+p+"</span>"),n.push("<span class='sC-price' style='float:right;margin-top:-20px;margin-right:30px;color:"+e+";'>"+s.toString()+t.price.toFixed(2)+"</span>"),n.push("</div>"),n.push("</li>"),n.join("")}function a(){LS||Fai.ing("多语言文件未引入",!1)}function r(t){return t.indexOf("#")<0&&(t.indexOf("rgba")>=0||t.indexOf("RGBA")>=0)}function n(t){if(r(t)){if(t.indexOf("transparent")>=0)return"rgb(255,255,255)";var i=t.split("(")[1].split(")")[0].split(",");return"rgb("+i[0]+","+i[1]+","+i[2]+")"}}s.TITLE="最新加入的商品",s.init=function(){this.initBind(),Fai.top.$("body").append(this.cartListWrap),this.refreshData(),function(t,i,s){if(!Fai.isIE6()&&!Fai.isIE7()&&!Fai.isIE8())return;if(!r(t))return;var e=n(t),o=i.find(".shoppingCartBox").hasClass("shoppingCartRange1");i.find(".shoppingCartBox").attr("cartColor",e),o&&i.find(".cartButton").css("background-color",e);o||i.find(".cartLeft").css("background-color",e);i.find(".shoppingAmount").css("background-color",e),i.find(".shoppingAmount2").css("border-bottom-color",e),o&&s.css("border","2px solid "+e)}(this.colorCode,this.module,this.cartList)},s.initBind=function(){var t,i,s=!1,e=!1,o=this,a=this.cartButton,r=this.cartList;13!=Fai.top._colId&&14!=Fai.top._colId&&(a.off("click.sC").on("click.sC",(function(){window.open("mcart.jsp","_blank")})),a.off("mouseenter.sC").on("mouseenter.sC",(function(){if(e&&(clearTimeout(i),e=!1),r.is(":hidden")){a.addClass("cartButton_hover"),r.css("opacity",0),r.css("height",""),r.addClass("dropCartList_hover");var t=r.height();r.css("height",0),p=o.cartListWrap,c=o.moduleId,h=Fai.top.$("#module"+c).parent().hasClass("J_bottomFloatLayerContent"),f="",d=Site.getModuleGMainRect(c),l=d.right,u=d.top,f=h?9030:f,p.css({left:l-p.find(".dropCartList").outerWidth(),top:u,"z-index":f}),r.stop(!0,!1).animate({height:t,opacity:1},200,(function(){r.css("height",""),a.addClass("cartButton_hover")})),(n=(s=o).cartList||s.module.find(".dropCartList")).offset().left<0&&n.addClass("showCartRight"),o.refreshData(o.moduleId)}var s,n,p,c,d,l,u,h,f})),a.off("mouseleave.sC").on("mouseleave.sC",(function(){s=!0,t=setTimeout((function(){a.removeClass("cartButton_hover"),r.stop(!0,!0).animate({height:0,opacity:0},100,(function(){r.removeClass("showCartRight dropCartList_hover"),a.removeClass("cartButton_hover"),r.css("height","")}))}),50)})),r.off("mouseenter.sC").on("mouseenter.sC",(function(){s&&(clearTimeout(t),s=!1)})),r.off("mouseleave.sC").on("mouseleave.sC",(function(){e=!0,i=setTimeout((function(){a.removeClass("cartButton_hover"),r.stop(!0,!0).animate({height:0,opacity:0},100,(function(){r.removeClass("showCartRight dropCartList_hover"),a.removeClass("cartButton_hover"),r.css("height","")}))}),50)})))},s.refreshData=function(){var i=this;t.ajax({type:"post",url:Site.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=getWafNotCk_getTopBarMallCartList",data:"",success:function(e){var o=t.parseJSON(e),r=o.topBarProductList;o.success&&r.length>0?i.refrestCartList(o.topBarProductList,o.orderId,o.choiceCurrencyVal):(i.cartList.html(function(){if(a(),s.noGoodsHtmlStr==undefined){var t=[];t.push("<div class='cartSpacer'></div>"),t.push("<div class='shoppingList'>"),t.push("<div class='cartNoGoods'>"),t.push("<b></b>"),t.push("<div class='noGoodsText'>"),t.push("<p>"+LS.memberMallCartNoProduct+"</p>"),t.push("</div>"),t.push("</div>"),t.push("</div>"),s.noGoodsHtmlStr=t.join("")}return s.noGoodsHtmlStr}()),i.cartList.removeClass("dropCartList_goods"),Fai.top.$(".shoppingAmount").css("display","none"),Fai.top.$(".shoppingAmountContent").css("display","none"),Fai.top.$("#mallCart_js").find(".mallCart_proNum").text("(0)"),Fai.top.$("#J_WebRightBar").find(".fk-rbar-cartItem-cirNum").text("0"))}})},s.refrestCartList=function(i,s,p){a();var c,d,l=i.length,u=Fai.top.$(".shoppingAmount"),h=0,f=0,m=0,C=0;e=function(t){if((Fai.isIE6()||Fai.isIE7()||Fai.isIE8())&&r(t))return n(t);return t}(this.colorCode);var g=[],v=[];for(g.push("<div class='cartContent'>"),g.push("<div class='sCart-title'>"),g.push("<h4>"+LS.memberMallCartJoin+"</h4>"),g.push("</div>"),g.push("<div class='sC-Content'>"),g.push("<ul class='sC-sigleList'>"),d=0;d<l;d++){h+=i[d].amount}for(c=0;c<l;c++){var b=i[c],_=b.amount;b.isValid&&(m+=b.price*_)}for(c=0;c<l;c++){var L=i[c];L.amount;if(L.isValid?g.push(o(L,s,p)):v.push(o(L,s,p)),(C+=1)>=5)break}g.push(v.join("")),h>0&&(h>99?Fai.top.$("#J_WebRightBar").find(".fk-rbar-cartItem-cirNum").text("..."):Fai.top.$("#J_WebRightBar").find(".fk-rbar-cartItem-cirNum").text(h),f=h,h=h>99?"99+":h,u.text(h),Fai.top.$("#mallCart_js").find(".mallCart_proNum").text("("+h+")"),this.cartList.addClass("dropCartList_goods"),u.css("display","block"),Fai.top.$(".shoppingAmountContent").css("display","block")),g.push("</ul>"),g.push("</div>"),g.push("</div>"),g.push("<div class='cartCalculate'>"),g.push(Fai.format(LS.shoppingCartCalculatePro,f)),g.push("<span class='sC-priceTotal'>"+LS.shoppingCartCountMoney+"<b style='color:"+e+";'>"+p.toString()+m.toFixed(2)+"</b></span>"),g.push("</div>"),g.push("<div class='cartPayFor'>"),g.push("<a href='javascript:;' class='sC-payFor' style='background-color:"+e+";'>"+LS.memberMallCartCheckBtn+"</a>"),g.push("</div>"),this.cartList.find(".shoppingList").html(g.join("")),function(i,s){var e=i,o=(i.module,i.cartList.find(".sC-delItem"));o.each((function(){var i=t(this);i.off("click.sC").on("click.sC",(function(){e.delShoppingCartItem(s,i.attr("tmpproductid"),o.index(i))}))})),i.cartList.find(".cartPayFor a").off("click.sC").on("click.sC",(function(){window.open("mcart.jsp","_blank")}))}(this,s)},s.delShoppingCartItem=function(i,s,e){var o=this;t.ajax({type:"post",url:Site.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=delWafCk_delItem",data:{orderId:i,itemId:s,isTopBarMallCart:!0},error:function(i){t.parseJSON(i).success||Fai.ing("系统繁忙，请稍后重试。",!0)},success:function(i){var s=t.parseJSON(i);s.success?o.cartList.find(".sCart-sigle").length>1?(o.cartList.find(".sCart-sigle").length>4?o.cartList.find(".sC-Content").css("height","295px"):o.cartList.find(".sC-Content").css("height",""),o.cartList.find(".sCart-sigle").eq(e).stop(!0,!0).animate({height:"0"},400,(function(){o.refreshData()}))):o.refreshData():-2==s.rt&&Fai.ing("参数错误，请稍后重试。",!0)}})}}(jQuery),Site.initShoppingCart=function(t){Fai.top.shoppingCart=Fai.top.shoppingCart||{},Fai.top.shoppingCart["cart"+t]=new Site.ShoppingCart(t),Fai.top.shoppingCart["cart"+t].init()}}})}));